{
  "comments": [
    {
      "key": {
        "uuid": "aa19ad8c_33cce416",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 1
      },
      "lineNbr": 63,
      "author": {
        "id": 1335
      },
      "writtenOn": "2019-02-04T12:51:32Z",
      "side": 1,
      "message": "u% or %x, I like the latter one",
      "range": {
        "startLine": 63,
        "startChar": 53,
        "endLine": 63,
        "endChar": 54
      },
      "revId": "e15a512bb60f07ea0b224aa4558fd55291cbb7ba",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "69b02598_c4b428ba",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 1
      },
      "lineNbr": 63,
      "author": {
        "id": 267
      },
      "writtenOn": "2019-02-04T14:18:16Z",
      "side": 1,
      "message": "to clarify, are you asking to change the \u0027spi %u\u0027 to \u0027spi %x\u0027 ?",
      "parentUuid": "aa19ad8c_33cce416",
      "range": {
        "startLine": 63,
        "startChar": 53,
        "endLine": 63,
        "endChar": 54
      },
      "revId": "e15a512bb60f07ea0b224aa4558fd55291cbb7ba",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a5cffeec_24978409",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 1
      },
      "lineNbr": 63,
      "author": {
        "id": 1496
      },
      "writtenOn": "2019-02-04T14:25:32Z",
      "side": 1,
      "message": "It has been %u. If we need %x, is it better to do %u(%x)?",
      "parentUuid": "aa19ad8c_33cce416",
      "range": {
        "startLine": 63,
        "startChar": 53,
        "endLine": 63,
        "endChar": 54
      },
      "revId": "e15a512bb60f07ea0b224aa4558fd55291cbb7ba",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "53caa58f_999493ae",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 1
      },
      "lineNbr": 63,
      "author": {
        "id": 267
      },
      "writtenOn": "2019-02-04T15:50:06Z",
      "side": 1,
      "message": "that\u0027s what i\u0027ll do if Kingwei agrees..",
      "parentUuid": "a5cffeec_24978409",
      "range": {
        "startLine": 63,
        "startChar": 53,
        "endLine": 63,
        "endChar": 54
      },
      "revId": "e15a512bb60f07ea0b224aa4558fd55291cbb7ba",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "edc6ec2d_864747a9",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 1
      },
      "lineNbr": 63,
      "author": {
        "id": 1335
      },
      "writtenOn": "2019-02-15T02:01:17Z",
      "side": 1,
      "message": "spi, it means nothing but an id.",
      "parentUuid": "a5cffeec_24978409",
      "range": {
        "startLine": 63,
        "startChar": 53,
        "endLine": 63,
        "endChar": 54
      },
      "revId": "e15a512bb60f07ea0b224aa4558fd55291cbb7ba",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d7bf827f_8db13d63",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 1
      },
      "lineNbr": 63,
      "author": {
        "id": 1335
      },
      "writtenOn": "2019-02-15T02:01:17Z",
      "side": 1,
      "message": "sure, please.",
      "parentUuid": "53caa58f_999493ae",
      "range": {
        "startLine": 63,
        "startChar": 53,
        "endLine": 63,
        "endChar": 54
      },
      "revId": "e15a512bb60f07ea0b224aa4558fd55291cbb7ba",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7378f4bc_92f10566",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 1
      },
      "lineNbr": 248,
      "author": {
        "id": 1335
      },
      "writtenOn": "2019-02-04T12:51:32Z",
      "side": 1,
      "message": "Here, vlib_buffer_length_in_chain might provide better performance as it doesn\u0027t require bit swap ?",
      "revId": "e15a512bb60f07ea0b224aa4558fd55291cbb7ba",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b263f97f_00bd99f6",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 1
      },
      "lineNbr": 248,
      "author": {
        "id": 267
      },
      "writtenOn": "2019-02-04T14:18:16Z",
      "side": 1,
      "message": "it might, but it also might result in a different value. I thought in this change i would keep the same value for the counter. We can revisit later.",
      "parentUuid": "7378f4bc_92f10566",
      "revId": "e15a512bb60f07ea0b224aa4558fd55291cbb7ba",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3658db54_d8dde154",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 1
      },
      "lineNbr": 271,
      "author": {
        "id": 1335
      },
      "writtenOn": "2019-02-04T12:51:32Z",
      "side": 1,
      "message": "change to clib_net_to_host_u32",
      "revId": "e15a512bb60f07ea0b224aa4558fd55291cbb7ba",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "59595257_35e1e41f",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 1
      },
      "lineNbr": 271,
      "author": {
        "id": 267
      },
      "writtenOn": "2019-02-04T14:18:16Z",
      "side": 1,
      "message": "ok",
      "parentUuid": "3658db54_d8dde154",
      "revId": "e15a512bb60f07ea0b224aa4558fd55291cbb7ba",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cc4d6763_7c31cb51",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 1
      },
      "lineNbr": 309,
      "author": {
        "id": 1335
      },
      "writtenOn": "2019-02-04T12:51:32Z",
      "side": 1,
      "message": "checking (node-\u003eflags \u0026 VLIB_NODE_FLAG_TRACE) before checking b0-\u003eflag, should have better performance",
      "revId": "e15a512bb60f07ea0b224aa4558fd55291cbb7ba",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ccf5d920_d82774cd",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 1
      },
      "lineNbr": 309,
      "author": {
        "id": 267
      },
      "writtenOn": "2019-02-04T14:18:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cc4d6763_7c31cb51",
      "revId": "e15a512bb60f07ea0b224aa4558fd55291cbb7ba",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e53df377_e6e9a415",
        "filename": "src/vnet/ipsec/ipsec_output.c",
        "patchSetId": 1
      },
      "lineNbr": 362,
      "author": {
        "id": 1335
      },
      "writtenOn": "2019-02-04T12:51:32Z",
      "side": 1,
      "message": "code for incrementing counter can moved to the beginning of the policy match found. This will remove the redundant code. \n\nBTW, would guess vlib_prefetch_combined_counter can be removed, it probably doesn\u0027t help becuase incrementing would happen very soon.",
      "revId": "e15a512bb60f07ea0b224aa4558fd55291cbb7ba",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8121f3f3_7ffd4539",
        "filename": "src/vnet/ipsec/ipsec_output.c",
        "patchSetId": 1
      },
      "lineNbr": 362,
      "author": {
        "id": 267
      },
      "writtenOn": "2019-02-04T14:18:16Z",
      "side": 1,
      "message": "i moved the counter increment up and the prefetch as early as possible.",
      "parentUuid": "e53df377_e6e9a415",
      "revId": "e15a512bb60f07ea0b224aa4558fd55291cbb7ba",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fb99b64f_a14a34f5",
        "filename": "src/vnet/ipsec/ipsec_output.c",
        "patchSetId": 1
      },
      "lineNbr": 362,
      "author": {
        "id": 1335
      },
      "writtenOn": "2019-02-15T02:01:17Z",
      "side": 1,
      "message": "ok. \n\nStill wonder if the prefetch helps. the counter will be incremented very soon unless ip/udp/tcp checksum has to be re-calculated, which is a really rare case.\n\nAnyway, it is ok, no harm.",
      "parentUuid": "8121f3f3_7ffd4539",
      "revId": "e15a512bb60f07ea0b224aa4558fd55291cbb7ba",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0eaf572e_01f1d8e5",
        "filename": "test/template_ipsec.py",
        "patchSetId": 1
      },
      "lineNbr": 383,
      "author": {
        "id": 1496
      },
      "writtenOn": "2019-02-04T14:25:32Z",
      "side": 1,
      "message": "Can you add an assert message here?",
      "range": {
        "startLine": 382,
        "startChar": 0,
        "endLine": 383,
        "endChar": 39
      },
      "revId": "e15a512bb60f07ea0b224aa4558fd55291cbb7ba",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "42721c95_49313520",
        "filename": "test/template_ipsec.py",
        "patchSetId": 1
      },
      "lineNbr": 383,
      "author": {
        "id": 267
      },
      "writtenOn": "2019-02-04T15:50:44Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0eaf572e_01f1d8e5",
      "range": {
        "startLine": 382,
        "startChar": 0,
        "endLine": 383,
        "endChar": 39
      },
      "revId": "e15a512bb60f07ea0b224aa4558fd55291cbb7ba",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    }
  ]
}