{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "f608867f_96411367",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1849
      },
      "writtenOn": "2024-10-21T18:08:54Z",
      "side": 1,
      "message": "Hi Piotr, nice work! the patch looks ok to me but can you update the tests for ipv6 fp?",
      "revId": "f56c2f8b5d202d3e79fac577198e0dcccecd50fa",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ee3e67d3_412ee646",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1854
      },
      "writtenOn": "2024-10-22T07:43:11Z",
      "side": 1,
      "message": "Sure we can update tests for covering ipv6 fast path.",
      "parentUuid": "f608867f_96411367",
      "revId": "f56c2f8b5d202d3e79fac577198e0dcccecd50fa",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0a0f59be_c47cfb86",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1849
      },
      "writtenOn": "2024-12-05T15:44:16Z",
      "side": 1,
      "message": "Hi Piotr, any plan to add ipv6 fast path test into this patch soon?",
      "parentUuid": "ee3e67d3_412ee646",
      "revId": "f56c2f8b5d202d3e79fac577198e0dcccecd50fa",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5aae9a56_5d2b3b65",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 3051
      },
      "writtenOn": "2024-12-18T12:49:11Z",
      "side": 1,
      "message": "Good Patch! Thanks!",
      "revId": "f56c2f8b5d202d3e79fac577198e0dcccecd50fa",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a21e8ae4_b1b26304",
        "filename": "src/vnet/ipsec/ipsec_spd_fp_lookup.h",
        "patchSetId": 2
      },
      "lineNbr": 207,
      "author": {
        "id": 3051
      },
      "writtenOn": "2024-12-13T13:11:32Z",
      "side": 1,
      "message": "a suggestion to refactor, to improve readability\n\nstatic_always_inline int\nsingle_rule_in_match_5tuple( . . .) {\n\n...\n...\n\nif (policy-\u003epolicy \u003d\u003d IPSEC_POLICY_ACTION_PROTECT \u0026\u0026 ipsec_sa_is_set_IS_TUNNEL (s)) {\n       return match_with_tunnel_addresses(...); //\n}\nelse\n{\n   // not a tunnel or default policy \n       return match_with_policy(...);\n}\n...\n}\n\nstatic_always_inline int\nmatch_with_tunnel_addresses (. . .) {\n ...\n}\n\nstatic_always_inline int\nmatch_with_policy (. . .) {\n ...\n}",
      "range": {
        "startLine": 109,
        "startChar": 1,
        "endLine": 207,
        "endChar": 2
      },
      "revId": "f56c2f8b5d202d3e79fac577198e0dcccecd50fa",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "426cc56d_bc154b6d",
        "filename": "src/vnet/ipsec/ipsec_spd_fp_lookup.h",
        "patchSetId": 2
      },
      "lineNbr": 207,
      "author": {
        "id": 1854
      },
      "writtenOn": "2024-12-18T12:18:16Z",
      "side": 1,
      "message": "I think it\u0027s a good idea, but this change needs to be done also in case of the slow path, so I would do this refactoring as a separate change.",
      "parentUuid": "a21e8ae4_b1b26304",
      "range": {
        "startLine": 109,
        "startChar": 1,
        "endLine": 207,
        "endChar": 2
      },
      "revId": "f56c2f8b5d202d3e79fac577198e0dcccecd50fa",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a8b6b4ca_c082e9c5",
        "filename": "src/vnet/ipsec/ipsec_spd_fp_lookup.h",
        "patchSetId": 2
      },
      "lineNbr": 207,
      "author": {
        "id": 3051
      },
      "writtenOn": "2024-12-18T12:49:11Z",
      "side": 1,
      "message": "yes, a separate change for slow path is fine.\n\nI believe in the fast path, less branching means better performance. So, it would be nice to have the refactoring done in this change or if you have another patch in works that you have yet to submit or submitted and has accommodated the suggestion then we can overlook this in this MR.\n\nI\u0027m happy either way :)",
      "parentUuid": "426cc56d_bc154b6d",
      "range": {
        "startLine": 109,
        "startChar": 1,
        "endLine": 207,
        "endChar": 2
      },
      "revId": "f56c2f8b5d202d3e79fac577198e0dcccecd50fa",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    }
  ]
}