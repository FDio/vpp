{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "5fd47c49_d9e21f6d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 2352
      },
      "writtenOn": "2025-01-20T08:19:49Z",
      "side": 1,
      "message": "Have you taken a look at the performance impact of connect() - dump() - disconnect() for each HTTP request?",
      "revId": "fd1f3c095607d592e4e1c5dede00f0a4f1b4e31a",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "aa984597_1b625807",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 3176
      },
      "writtenOn": "2025-02-07T12:15:42Z",
      "side": 1,
      "message": "Thanks a lot for the code review! I took measurements for the build-release, and I got the following average results on my machine for all metrics by default (\"^/\"):\nstat_segment_connect: 0.000078 sec\nstat_segment_ls: 0.000282 sec\nstat_segment_dump: 0.000437 sec\nprint metrics: 0.003531 sec\ndump_metrics: 0.004264 sec (stat_segment_ls + stat_segment_dump + print metrics)\nstat_segment_disconnect: 0.000022 sec\nRequest processing: 0.004446 sec\n\nIt can be seen from the results that the output of information about metrics takes the longest execution time.\n\nOn the other hand, in my opinion, such a service usually does not experience a serious load, so these time costs are not critical.",
      "parentUuid": "5fd47c49_d9e21f6d",
      "revId": "fd1f3c095607d592e4e1c5dede00f0a4f1b4e31a",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3ba01ba2_ee42793a",
        "filename": "src/vpp/app/vpp_prometheus_export.c",
        "patchSetId": 4
      },
      "lineNbr": 244,
      "author": {
        "id": 2352
      },
      "writtenOn": "2025-01-20T08:19:49Z",
      "side": 1,
      "message": "I think you could make this a bit easier to read by simply \u0027return print_metric_v1()\u0027 at this and the other call sites, and remove \u0027exit\u0027 variable again.",
      "range": {
        "startLine": 244,
        "startChar": 6,
        "endLine": 244,
        "endChar": 10
      },
      "revId": "fd1f3c095607d592e4e1c5dede00f0a4f1b4e31a",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e75edd04_f5d19d69",
        "filename": "src/vpp/app/vpp_prometheus_export.c",
        "patchSetId": 4
      },
      "lineNbr": 244,
      "author": {
        "id": 3176
      },
      "writtenOn": "2025-02-07T12:15:42Z",
      "side": 1,
      "message": "Fixed in Patchset 5",
      "parentUuid": "3ba01ba2_ee42793a",
      "range": {
        "startLine": 244,
        "startChar": 6,
        "endLine": 244,
        "endChar": 10
      },
      "revId": "fd1f3c095607d592e4e1c5dede00f0a4f1b4e31a",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "033af4dd_aaa26606",
        "filename": "src/vpp/app/vpp_prometheus_export.c",
        "patchSetId": 4
      },
      "lineNbr": 372,
      "author": {
        "id": 2352
      },
      "writtenOn": "2025-01-20T08:19:49Z",
      "side": 1,
      "message": "str is used only in the branch on L422, move it there.",
      "range": {
        "startLine": 372,
        "startChar": 6,
        "endLine": 372,
        "endChar": 9
      },
      "revId": "fd1f3c095607d592e4e1c5dede00f0a4f1b4e31a",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d0b852d5_51b65d23",
        "filename": "src/vpp/app/vpp_prometheus_export.c",
        "patchSetId": 4
      },
      "lineNbr": 372,
      "author": {
        "id": 3176
      },
      "writtenOn": "2025-02-07T12:15:42Z",
      "side": 1,
      "message": "Fixed in Patchset 5",
      "parentUuid": "033af4dd_aaa26606",
      "range": {
        "startLine": 372,
        "startChar": 6,
        "endLine": 372,
        "endChar": 9
      },
      "revId": "fd1f3c095607d592e4e1c5dede00f0a4f1b4e31a",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "338af2a1_17016cf1",
        "filename": "src/vpp/app/vpp_prometheus_export.c",
        "patchSetId": 4
      },
      "lineNbr": 424,
      "author": {
        "id": 2352
      },
      "writtenOn": "2025-01-20T08:19:49Z",
      "side": 1,
      "message": "memory leak, str is not freed.",
      "range": {
        "startLine": 424,
        "startChar": 12,
        "endLine": 424,
        "endChar": 18
      },
      "revId": "fd1f3c095607d592e4e1c5dede00f0a4f1b4e31a",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "36ab6aaf_28dbb9f5",
        "filename": "src/vpp/app/vpp_prometheus_export.c",
        "patchSetId": 4
      },
      "lineNbr": 424,
      "author": {
        "id": 3176
      },
      "writtenOn": "2025-02-07T12:15:42Z",
      "side": 1,
      "message": "Fixed in Patchset 5",
      "parentUuid": "338af2a1_17016cf1",
      "range": {
        "startLine": 424,
        "startChar": 12,
        "endLine": 424,
        "endChar": 18
      },
      "revId": "fd1f3c095607d592e4e1c5dede00f0a4f1b4e31a",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "106eac0c_3807cd52",
        "filename": "src/vpp/app/vpp_prometheus_export.c",
        "patchSetId": 4
      },
      "lineNbr": 605,
      "author": {
        "id": 2352
      },
      "writtenOn": "2025-01-20T08:19:49Z",
      "side": 1,
      "message": "will this ever evaluate to false? L599 and L602 are called consecutively.",
      "range": {
        "startLine": 605,
        "startChar": 10,
        "endLine": 605,
        "endChar": 32
      },
      "revId": "fd1f3c095607d592e4e1c5dede00f0a4f1b4e31a",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c3dd1b01_df433f30",
        "filename": "src/vpp/app/vpp_prometheus_export.c",
        "patchSetId": 4
      },
      "lineNbr": 605,
      "author": {
        "id": 3176
      },
      "writtenOn": "2025-02-07T12:15:42Z",
      "side": 1,
      "message": "Fixed in Patchset 5",
      "parentUuid": "106eac0c_3807cd52",
      "range": {
        "startLine": 605,
        "startChar": 10,
        "endLine": 605,
        "endChar": 32
      },
      "revId": "fd1f3c095607d592e4e1c5dede00f0a4f1b4e31a",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    }
  ]
}