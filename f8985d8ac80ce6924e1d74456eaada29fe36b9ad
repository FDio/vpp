{
  "comments": [
    {
      "key": {
        "uuid": "d8eeee9e_8afd0d40",
        "filename": "src/plugins/lb/cli.c",
        "patchSetId": 14
      },
      "lineNbr": 139,
      "author": {
        "id": 109
      },
      "writtenOn": "2018-08-13T12:34:43Z",
      "side": 1,
      "message": "Maybe it would help to have same type for port-specific and all-ports vips... What do you think ?",
      "revId": "f8985d8ac80ce6924e1d74456eaada29fe36b9ad",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ec119dfc_68a09252",
        "filename": "src/plugins/lb/lb.c",
        "patchSetId": 14
      },
      "lineNbr": 173,
      "author": {
        "id": 109
      },
      "writtenOn": "2018-08-13T12:34:43Z",
      "side": 1,
      "message": "What about L3DSR without port ?",
      "range": {
        "startLine": 173,
        "startChar": 6,
        "endLine": 173,
        "endChar": 45
      },
      "revId": "f8985d8ac80ce6924e1d74456eaada29fe36b9ad",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "617a62cd_d9d305d9",
        "filename": "src/plugins/lb/lb.c",
        "patchSetId": 14
      },
      "lineNbr": 213,
      "author": {
        "id": 109
      },
      "writtenOn": "2018-08-13T12:34:43Z",
      "side": 1,
      "message": "Please revert. It is better to have no space in case the string is empty.",
      "range": {
        "startLine": 213,
        "startChar": 18,
        "endLine": 213,
        "endChar": 64
      },
      "revId": "f8985d8ac80ce6924e1d74456eaada29fe36b9ad",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "290220cc_e6f2d904",
        "filename": "src/plugins/lb/lb.c",
        "patchSetId": 14
      },
      "lineNbr": 224,
      "author": {
        "id": 109
      },
      "writtenOn": "2018-08-13T12:34:43Z",
      "side": 1,
      "message": "Again. What about l3dsr with no port.\nMaybe it would help clarifying the code a bit if the types were the same with and without port, and the port parameter would be used to distinguish (0 means no port, a different value specifies the port). Just an idea. You decide if it helps.",
      "range": {
        "startLine": 224,
        "startChar": 2,
        "endLine": 224,
        "endChar": 46
      },
      "revId": "f8985d8ac80ce6924e1d74456eaada29fe36b9ad",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d163b9da_e3bcb760",
        "filename": "src/plugins/lb/lb.c",
        "patchSetId": 14
      },
      "lineNbr": 239,
      "author": {
        "id": 109
      },
      "writtenOn": "2018-08-13T12:34:43Z",
      "side": 1,
      "message": "Just call it port.",
      "range": {
        "startLine": 239,
        "startChar": 42,
        "endLine": 239,
        "endChar": 51
      },
      "revId": "f8985d8ac80ce6924e1d74456eaada29fe36b9ad",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dc023000_f74f4629",
        "filename": "src/plugins/lb/lb.c",
        "patchSetId": 14
      },
      "lineNbr": 587,
      "author": {
        "id": 109
      },
      "writtenOn": "2018-08-13T12:34:43Z",
      "side": 1,
      "message": "This code is very redundant with the previous search function. Would it make sense to have a single search function with an additional field to specify the intended behavior ? You can keep the 3 functions but they could just call this single search function. At least it would get rid of code replication.",
      "range": {
        "startLine": 544,
        "startChar": 0,
        "endLine": 587,
        "endChar": 1
      },
      "revId": "f8985d8ac80ce6924e1d74456eaada29fe36b9ad",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7e5bb391_3734cb8c",
        "filename": "src/plugins/lb/lb.c",
        "patchSetId": 14
      },
      "lineNbr": 730,
      "author": {
        "id": 109
      },
      "writtenOn": "2018-08-13T12:34:43Z",
      "side": 1,
      "message": "Take those out of the if-else",
      "range": {
        "startLine": 730,
        "startChar": 16,
        "endLine": 730,
        "endChar": 40
      },
      "revId": "f8985d8ac80ce6924e1d74456eaada29fe36b9ad",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "205226c5_75aa914f",
        "filename": "src/plugins/lb/lb.c",
        "patchSetId": 14
      },
      "lineNbr": 760,
      "author": {
        "id": 109
      },
      "writtenOn": "2018-08-13T12:34:43Z",
      "side": 1,
      "message": "Take those out of the if-else",
      "range": {
        "startLine": 760,
        "startChar": 16,
        "endLine": 760,
        "endChar": 40
      },
      "revId": "f8985d8ac80ce6924e1d74456eaada29fe36b9ad",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7e882821_b46c41b2",
        "filename": "src/plugins/lb/lb.c",
        "patchSetId": 14
      },
      "lineNbr": 797,
      "author": {
        "id": 109
      },
      "writtenOn": "2018-08-13T12:34:43Z",
      "side": 1,
      "message": "What is this argument used for ?",
      "range": {
        "startLine": 797,
        "startChar": 28,
        "endLine": 797,
        "endChar": 41
      },
      "revId": "f8985d8ac80ce6924e1d74456eaada29fe36b9ad",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b3f5a818_2c1d0d6e",
        "filename": "src/plugins/lb/lb.c",
        "patchSetId": 14
      },
      "lineNbr": 865,
      "author": {
        "id": 109
      },
      "writtenOn": "2018-08-13T12:34:43Z",
      "side": 1,
      "message": "Style",
      "range": {
        "startLine": 865,
        "startChar": 7,
        "endLine": 865,
        "endChar": 8
      },
      "revId": "f8985d8ac80ce6924e1d74456eaada29fe36b9ad",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2430d8f0_b8ba4b5d",
        "filename": "src/plugins/lb/lb.c",
        "patchSetId": 14
      },
      "lineNbr": 879,
      "author": {
        "id": 109
      },
      "writtenOn": "2018-08-13T12:34:43Z",
      "side": 1,
      "message": "vip_prefix_indexes should be a bitmap",
      "range": {
        "startLine": 879,
        "startChar": 6,
        "endLine": 879,
        "endChar": 14
      },
      "revId": "f8985d8ac80ce6924e1d74456eaada29fe36b9ad",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7f0d57f0_762fca1c",
        "filename": "src/plugins/lb/lb.c",
        "patchSetId": 14
      },
      "lineNbr": 944,
      "author": {
        "id": 109
      },
      "writtenOn": "2018-08-13T12:34:43Z",
      "side": 1,
      "message": "Should be using a clib_bihash",
      "range": {
        "startLine": 944,
        "startChar": 2,
        "endLine": 944,
        "endChar": 10
      },
      "revId": "f8985d8ac80ce6924e1d74456eaada29fe36b9ad",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "072766a7_43e203c1",
        "filename": "src/plugins/lb/lb.c",
        "patchSetId": 14
      },
      "lineNbr": 1017,
      "author": {
        "id": 109
      },
      "writtenOn": "2018-08-13T12:34:43Z",
      "side": 1,
      "message": "Does this test for case with port or no port ?",
      "range": {
        "startLine": 1017,
        "startChar": 7,
        "endLine": 1017,
        "endChar": 39
      },
      "revId": "f8985d8ac80ce6924e1d74456eaada29fe36b9ad",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d21c86c1_b05f56a8",
        "filename": "src/plugins/lb/lb.c",
        "patchSetId": 14
      },
      "lineNbr": 1043,
      "author": {
        "id": 109
      },
      "writtenOn": "2018-08-13T12:34:43Z",
      "side": 1,
      "message": "You do 3 search in a single function. Given that the search is linear in complexity, I think we should find a way to have a single search or so...\n\nSo here is what I recommend. Instead of having 3 different searches, let\u0027s just have a single one which takes a port as parameter (0 means all ports) and a \u0027other_port\u0027 boolean which will allow return result for a VIP with the same prefix but a different port.",
      "revId": "f8985d8ac80ce6924e1d74456eaada29fe36b9ad",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b3486b6b_24ee8cdf",
        "filename": "src/plugins/lb/lb.c",
        "patchSetId": 14
      },
      "lineNbr": 1048,
      "author": {
        "id": 109
      },
      "writtenOn": "2018-08-13T12:34:43Z",
      "side": 1,
      "message": "Does not check whether a port-specific VIP exists when an all-port VIP is created... This is supposed to be a code review... Not code-based debugging...",
      "revId": "f8985d8ac80ce6924e1d74456eaada29fe36b9ad",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dee54f6d_bf6249a3",
        "filename": "src/plugins/lb/lb.c",
        "patchSetId": 14
      },
      "lineNbr": 1061,
      "author": {
        "id": 109
      },
      "writtenOn": "2018-08-13T12:34:43Z",
      "side": 1,
      "message": "Again, what about L3DSR for all ports.",
      "range": {
        "startLine": 1061,
        "startChar": 6,
        "endLine": 1061,
        "endChar": 41
      },
      "revId": "f8985d8ac80ce6924e1d74456eaada29fe36b9ad",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "976442dc_adcd98a8",
        "filename": "src/plugins/lb/lb.c",
        "patchSetId": 14
      },
      "lineNbr": 1080,
      "author": {
        "id": 109
      },
      "writtenOn": "2018-08-13T12:34:43Z",
      "side": 1,
      "message": "You are assigning a u32 to a u8. It actually does what you want, but you should add a cast to make it clearer (also in other places).",
      "range": {
        "startLine": 1080,
        "startChar": 6,
        "endLine": 1080,
        "endChar": 25
      },
      "revId": "f8985d8ac80ce6924e1d74456eaada29fe36b9ad",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4f83a349_52f25e0f",
        "filename": "src/plugins/lb/lb.c",
        "patchSetId": 14
      },
      "lineNbr": 1330,
      "author": {
        "id": 109
      },
      "writtenOn": "2018-08-13T12:34:43Z",
      "side": 1,
      "message": "How do you make sure this VIP cannot be removed by CLI or API ?\nCould use a special VIP type ? Or have an exception forbidding to remove index 0 ?",
      "range": {
        "startLine": 1325,
        "startChar": 2,
        "endLine": 1330,
        "endChar": 41
      },
      "revId": "f8985d8ac80ce6924e1d74456eaada29fe36b9ad",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dbf356a5_114b3745",
        "filename": "src/plugins/lb/lb.h",
        "patchSetId": 14
      },
      "lineNbr": 324,
      "author": {
        "id": 109
      },
      "writtenOn": "2018-08-13T12:34:43Z",
      "side": 1,
      "message": "Why would all other macros take a VIP and these a type ? Looks inconsistent.",
      "range": {
        "startLine": 324,
        "startChar": 22,
        "endLine": 324,
        "endChar": 26
      },
      "revId": "f8985d8ac80ce6924e1d74456eaada29fe36b9ad",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b2dfee59_d1c32b03",
        "filename": "src/plugins/lb/lb.h",
        "patchSetId": 14
      },
      "lineNbr": 471,
      "author": {
        "id": 109
      },
      "writtenOn": "2018-08-13T12:34:43Z",
      "side": 1,
      "message": "Change this to a bitmap. Use clib_bitmap_set, clib_bitmap_first_clear, etc... from bitmap.h in vppinfra",
      "range": {
        "startLine": 471,
        "startChar": 2,
        "endLine": 471,
        "endChar": 26
      },
      "revId": "f8985d8ac80ce6924e1d74456eaada29fe36b9ad",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c3eeecd4_c0a7d2c6",
        "filename": "src/plugins/lb/node.c",
        "patchSetId": 14
      },
      "lineNbr": 242,
      "author": {
        "id": 109
      },
      "writtenOn": "2018-08-13T12:34:43Z",
      "side": 1,
      "message": "As this hash table is used in data-plane, it should be a clib_bihash rather than a simple hash.",
      "range": {
        "startLine": 242,
        "startChar": 18,
        "endLine": 242,
        "endChar": 26
      },
      "revId": "f8985d8ac80ce6924e1d74456eaada29fe36b9ad",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3fafc381_d252e4ec",
        "filename": "src/plugins/lb/node.c",
        "patchSetId": 14
      },
      "lineNbr": 252,
      "author": {
        "id": 109
      },
      "writtenOn": "2018-08-13T12:34:43Z",
      "side": 1,
      "message": "Not necessary",
      "range": {
        "startLine": 252,
        "startChar": 2,
        "endLine": 252,
        "endChar": 9
      },
      "revId": "f8985d8ac80ce6924e1d74456eaada29fe36b9ad",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d7257686_36bd3229",
        "filename": "src/plugins/lb/node.c",
        "patchSetId": 14
      },
      "lineNbr": 288,
      "author": {
        "id": 109
      },
      "writtenOn": "2018-08-13T12:34:43Z",
      "side": 1,
      "message": "Not necessary",
      "range": {
        "startLine": 288,
        "startChar": 27,
        "endLine": 288,
        "endChar": 31
      },
      "revId": "f8985d8ac80ce6924e1d74456eaada29fe36b9ad",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "72c8555c_10503623",
        "filename": "src/plugins/lb/node.c",
        "patchSetId": 14
      },
      "lineNbr": 296,
      "author": {
        "id": 109
      },
      "writtenOn": "2018-08-13T12:34:43Z",
      "side": 1,
      "message": "Not necessary.",
      "range": {
        "startLine": 296,
        "startChar": 19,
        "endLine": 296,
        "endChar": 34
      },
      "revId": "f8985d8ac80ce6924e1d74456eaada29fe36b9ad",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5f1412c0_62a1b482",
        "filename": "src/plugins/lb/node.c",
        "patchSetId": 14
      },
      "lineNbr": 491,
      "author": {
        "id": 109
      },
      "writtenOn": "2018-08-13T12:34:43Z",
      "side": 1,
      "message": "I dont\u0027 understand this test. Can you tell me what it does ?",
      "range": {
        "startLine": 490,
        "startChar": 22,
        "endLine": 491,
        "endChar": 53
      },
      "revId": "f8985d8ac80ce6924e1d74456eaada29fe36b9ad",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    }
  ]
}