{
  "comments": [
    {
      "key": {
        "uuid": "5a2585a7_e7919e53",
        "filename": "vnet/vnet/vxlan/decap.c",
        "patchSetId": 5
      },
      "lineNbr": 220,
      "author": {
        "id": 11
      },
      "writtenOn": "2016-11-28T18:38:11Z",
      "side": 1,
      "message": "Why do we do range check at runtime? The CLI/API should make sure t-\u003edecap_next is always setup correctly.",
      "range": {
        "startLine": 220,
        "startChar": 0,
        "endLine": 220,
        "endChar": 10
      },
      "revId": "242eced05b041d3ab924862d1fabbf32beef2aee",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a2585a7_4220609b",
        "filename": "vnet/vnet/vxlan/decap.c",
        "patchSetId": 5
      },
      "lineNbr": 220,
      "author": {
        "id": 352
      },
      "writtenOn": "2016-11-29T01:38:30Z",
      "side": 1,
      "message": "OK. I will delete runtime range check, and add rang check on setup.",
      "parentUuid": "5a2585a7_e7919e53",
      "range": {
        "startLine": 220,
        "startChar": 0,
        "endLine": 220,
        "endChar": 10
      },
      "revId": "242eced05b041d3ab924862d1fabbf32beef2aee",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a2585a7_c79ea263",
        "filename": "vnet/vnet/vxlan/decap.c",
        "patchSetId": 5
      },
      "lineNbr": 233,
      "author": {
        "id": 11
      },
      "writtenOn": "2016-11-28T18:38:11Z",
      "side": 1,
      "message": "We are incurring a runtime overhead for vxlan decap even for cases where plugin may not exist. This is not generally an acceptable approach. Why does NSH plugin require this information?",
      "range": {
        "startLine": 233,
        "startChar": 0,
        "endLine": 233,
        "endChar": 10
      },
      "revId": "242eced05b041d3ab924862d1fabbf32beef2aee",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a2585a7_222554ab",
        "filename": "vnet/vnet/vxlan/decap.c",
        "patchSetId": 5
      },
      "lineNbr": 233,
      "author": {
        "id": 352
      },
      "writtenOn": "2016-11-29T01:38:30Z",
      "side": 1,
      "message": "NSH plugin has three types input, and it processes these a little differently. So we need to pass node index to NSH plugin.\nIn previous patch, there is a if statement to judge whether next node is NSH plugin. If so, then add node_index. but this introduces a branch cost.",
      "parentUuid": "5a2585a7_c79ea263",
      "range": {
        "startLine": 233,
        "startChar": 0,
        "endLine": 233,
        "endChar": 10
      },
      "revId": "242eced05b041d3ab924862d1fabbf32beef2aee",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a2585a7_824d2875",
        "filename": "vnet/vnet/vxlan/decap.c",
        "patchSetId": 5
      },
      "lineNbr": 233,
      "author": {
        "id": 11
      },
      "writtenOn": "2016-11-29T03:44:53Z",
      "side": 1,
      "message": "If there are 3 types of input, I expect we should have created 3 instances of NSH input nodes to handle it, instead of expecting previous node pass you some kind of embedded data to distinguish. Just like how vxlan-input has a IP4 version and IP6 version both sharing the same inlined function, for example. Then we can specify which of the NSH input node is the decap next node, instead of adding this requirement on vxlan-input node. The resulting 3 instances of nsh input node would also be more efficient as it does not really need to check for which type of input (as these will be optimized out by the compiler when inlining your core input function. In conclusion, I expect this line be removed.",
      "parentUuid": "5a2585a7_222554ab",
      "range": {
        "startLine": 233,
        "startChar": 0,
        "endLine": 233,
        "endChar": 10
      },
      "revId": "242eced05b041d3ab924862d1fabbf32beef2aee",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a2585a7_a7eef6b2",
        "filename": "vnet/vnet/vxlan/vxlan.c",
        "patchSetId": 5
      },
      "lineNbr": 551,
      "author": {
        "id": 15
      },
      "writtenOn": "2016-11-28T17:12:08Z",
      "side": 1,
      "message": "If doing node by name you don\u0027t need this explicitly in here.",
      "range": {
        "startLine": 548,
        "startChar": 0,
        "endLine": 551,
        "endChar": 67
      },
      "revId": "242eced05b041d3ab924862d1fabbf32beef2aee",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a2585a7_874ada81",
        "filename": "vnet/vnet/vxlan/vxlan.c",
        "patchSetId": 5
      },
      "lineNbr": 621,
      "author": {
        "id": 11
      },
      "writtenOn": "2016-11-28T18:38:11Z",
      "side": 1,
      "message": "Since you are changing the CLI, what about the API part? This means vpp_api_test (vat) CLI need to match that of the VPP CLI change. Also, custom_dump.c also needs to be checked to make sure if any change is needed or not. In fact, vpp_api_test would need some cleanup probably allowing user to specify decap-net node by name name and find the next node index for vxlan4/6-input node, etc.",
      "range": {
        "startLine": 621,
        "startChar": 23,
        "endLine": 621,
        "endChar": 33
      },
      "revId": "242eced05b041d3ab924862d1fabbf32beef2aee",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a2585a7_023a58cd",
        "filename": "vnet/vnet/vxlan/vxlan.c",
        "patchSetId": 5
      },
      "lineNbr": 621,
      "author": {
        "id": 352
      },
      "writtenOn": "2016-11-29T01:38:30Z",
      "side": 1,
      "message": "Will change API part when this patch is accepted.",
      "parentUuid": "5a2585a7_874ada81",
      "range": {
        "startLine": 621,
        "startChar": 23,
        "endLine": 621,
        "endChar": 33
      },
      "revId": "242eced05b041d3ab924862d1fabbf32beef2aee",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a2585a7_42574003",
        "filename": "vnet/vnet/vxlan/vxlan.c",
        "patchSetId": 5
      },
      "lineNbr": 621,
      "author": {
        "id": 11
      },
      "writtenOn": "2016-11-29T03:44:53Z",
      "side": 1,
      "message": "Why not include vat change to this patch as well? The CLI change for VPP should also be reflected on the CLI for VAT. Note that for the VAT CLI, I would expect you allow the user to specify either decap-next node index by number or by proper node name, not like the VPP CLI where \"l2\" and \"nsh-input\" keyword is used.",
      "parentUuid": "5a2585a7_023a58cd",
      "range": {
        "startLine": 621,
        "startChar": 23,
        "endLine": 621,
        "endChar": 33
      },
      "revId": "242eced05b041d3ab924862d1fabbf32beef2aee",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    }
  ]
}