{
  "comments": [
    {
      "key": {
        "uuid": "f2b6a3f7_2d21dbf4",
        "filename": "src/plugins/ikev2/ikev2.c",
        "patchSetId": 3
      },
      "lineNbr": 1361,
      "author": {
        "id": 361
      },
      "writtenOn": "2020-06-03T15:26:17Z",
      "side": 1,
      "message": "can we set profile_index to ~0 instead of using a separate field? ~0 is a common invalid index value widely used in vpp codebase",
      "revId": "58f28194c245aac54fd6cec6c46bfdac3b2841b7",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9a0117ff_affee16b",
        "filename": "src/plugins/ikev2/ikev2.c",
        "patchSetId": 3
      },
      "lineNbr": 1361,
      "author": {
        "id": 189
      },
      "writtenOn": "2020-06-04T07:20:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f2b6a3f7_2d21dbf4",
      "revId": "58f28194c245aac54fd6cec6c46bfdac3b2841b7",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "73eb0af0_5d94f4cc",
        "filename": "src/plugins/ikev2/ikev2.c",
        "patchSetId": 3
      },
      "lineNbr": 1361,
      "author": {
        "id": 361
      },
      "writtenOn": "2020-06-04T07:51:42Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "9a0117ff_affee16b",
      "revId": "58f28194c245aac54fd6cec6c46bfdac3b2841b7",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "db2106c2_b2056568",
        "filename": "src/plugins/ikev2/ikev2.c",
        "patchSetId": 3
      },
      "lineNbr": 3211,
      "author": {
        "id": 361
      },
      "writtenOn": "2020-06-03T15:26:17Z",
      "side": 1,
      "message": "must check the returned value if allocation failed",
      "revId": "58f28194c245aac54fd6cec6c46bfdac3b2841b7",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d188b912_7fa50320",
        "filename": "src/plugins/ikev2/ikev2.c",
        "patchSetId": 3
      },
      "lineNbr": 3211,
      "author": {
        "id": 189
      },
      "writtenOn": "2020-06-04T07:20:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "db2106c2_b2056568",
      "revId": "58f28194c245aac54fd6cec6c46bfdac3b2841b7",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a961be06_1b8ff0d7",
        "filename": "src/plugins/ikev2/ikev2.c",
        "patchSetId": 3
      },
      "lineNbr": 3211,
      "author": {
        "id": 361
      },
      "writtenOn": "2020-06-04T07:51:42Z",
      "side": 1,
      "message": "Can we add a log and/or an error counter to diagnose the issue when it happens?",
      "parentUuid": "d188b912_7fa50320",
      "revId": "58f28194c245aac54fd6cec6c46bfdac3b2841b7",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c267ae14_a3d939e7",
        "filename": "src/plugins/ikev2/ikev2.c",
        "patchSetId": 3
      },
      "lineNbr": 3211,
      "author": {
        "id": 189
      },
      "writtenOn": "2020-06-04T10:27:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a961be06_1b8ff0d7",
      "revId": "58f28194c245aac54fd6cec6c46bfdac3b2841b7",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "18e766e1_d8aa110b",
        "filename": "src/plugins/ikev2/ikev2.c",
        "patchSetId": 3
      },
      "lineNbr": 3239,
      "author": {
        "id": 361
      },
      "writtenOn": "2020-06-03T15:26:17Z",
      "side": 1,
      "message": "you should iterate on a copy of sa-\u003echilds as ikev2_sa_del_child_sa()-\u003evec_del1() will modify sa-\u003echilds in the loop body",
      "revId": "58f28194c245aac54fd6cec6c46bfdac3b2841b7",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "47341ce0_408eaafb",
        "filename": "src/plugins/ikev2/ikev2.c",
        "patchSetId": 3
      },
      "lineNbr": 3239,
      "author": {
        "id": 189
      },
      "writtenOn": "2020-06-04T07:20:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "18e766e1_d8aa110b",
      "revId": "58f28194c245aac54fd6cec6c46bfdac3b2841b7",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "626d81ee_6576870c",
        "filename": "src/plugins/ikev2/ikev2.c",
        "patchSetId": 3
      },
      "lineNbr": 3239,
      "author": {
        "id": 361
      },
      "writtenOn": "2020-06-04T07:51:42Z",
      "side": 1,
      "message": "I think ikev2_sa_free_child_sa() and vec_free(sa-\u003echilds) is redundant here: ikev2_sa_free_all_vec() below will call ikev2_sa_free_all_child_sa()",
      "parentUuid": "47341ce0_408eaafb",
      "revId": "58f28194c245aac54fd6cec6c46bfdac3b2841b7",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2e260035_6f712735",
        "filename": "src/plugins/ikev2/ikev2.c",
        "patchSetId": 3
      },
      "lineNbr": 3239,
      "author": {
        "id": 189
      },
      "writtenOn": "2020-06-04T10:27:32Z",
      "side": 1,
      "message": "good point, fixed.",
      "parentUuid": "626d81ee_6576870c",
      "revId": "58f28194c245aac54fd6cec6c46bfdac3b2841b7",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "191a9234_1cc65ae4",
        "filename": "src/plugins/ikev2/ikev2.c",
        "patchSetId": 3
      },
      "lineNbr": 3279,
      "author": {
        "id": 361
      },
      "writtenOn": "2020-06-03T15:26:17Z",
      "side": 1,
      "message": "instead of free/allocate at each iteration, it would better to vec_reset() at each iteration and vec_free() outside of the loop body, at the end",
      "revId": "58f28194c245aac54fd6cec6c46bfdac3b2841b7",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "193425c2_42ccd3da",
        "filename": "src/plugins/ikev2/ikev2.c",
        "patchSetId": 3
      },
      "lineNbr": 3279,
      "author": {
        "id": 189
      },
      "writtenOn": "2020-06-04T07:20:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "191a9234_1cc65ae4",
      "revId": "58f28194c245aac54fd6cec6c46bfdac3b2841b7",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a9b8b8a4_c499e154",
        "filename": "src/plugins/ikev2/ikev2.c",
        "patchSetId": 3
      },
      "lineNbr": 3279,
      "author": {
        "id": 361
      },
      "writtenOn": "2020-06-04T07:51:42Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "193425c2_42ccd3da",
      "revId": "58f28194c245aac54fd6cec6c46bfdac3b2841b7",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    }
  ]
}