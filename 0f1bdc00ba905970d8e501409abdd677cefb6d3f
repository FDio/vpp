{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "36d55218_50b6043a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 361
      },
      "writtenOn": "2025-01-06T10:02:58Z",
      "side": 1,
      "message": "I\u0027m not sure we want to add this check in release mode if we correctly check the # of threads at startup",
      "revId": "0f1bdc00ba905970d8e501409abdd677cefb6d3f",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "52e423c3_4d6889e6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 3171
      },
      "writtenOn": "2025-01-07T14:41:36Z",
      "side": 1,
      "message": "That is basically what that check is for. Also, as far as I understand, you can easily change the amount of worker threads in runtime (in interactive mode).\nPerformance overhead should be negligible as VPP doesn\u0027t often create new threads",
      "parentUuid": "36d55218_50b6043a",
      "revId": "0f1bdc00ba905970d8e501409abdd677cefb6d3f",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7e3e3b9d_65990561",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 361
      },
      "writtenOn": "2025-01-08T13:11:23Z",
      "side": 1,
      "message": "I don\u0027t think you can change the #workers at runtime.\nI think this could remain an assert, and we should check the value of n_vlib_mains in vlib_thread_init() and bail out if it is grater than the max #workers configured at compile time with your other patch",
      "parentUuid": "52e423c3_4d6889e6",
      "revId": "0f1bdc00ba905970d8e501409abdd677cefb6d3f",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1e132e8a_41a756d3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 3171
      },
      "writtenOn": "2025-01-18T23:58:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7e3e3b9d_65990561",
      "revId": "0f1bdc00ba905970d8e501409abdd677cefb6d3f",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3cf6f401_9d4696a3",
        "filename": "src/vlib/threads.c",
        "patchSetId": 2
      },
      "lineNbr": 1671,
      "author": {
        "id": 361
      },
      "writtenOn": "2025-01-06T10:02:58Z",
      "side": 1,
      "message": "you can use ALWAYS_ASSERT instead",
      "revId": "0f1bdc00ba905970d8e501409abdd677cefb6d3f",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bea55750_f793314e",
        "filename": "src/vlib/threads.c",
        "patchSetId": 2
      },
      "lineNbr": 1671,
      "author": {
        "id": 3171
      },
      "writtenOn": "2025-01-07T14:41:36Z",
      "side": 1,
      "message": "Here I thought what would help me to figure out what is wrong. Therefore, I thought that a custom error message is easier to search for and can then be referenced in the documentation and properly explained. But if you think that ALWAYS_ASSERT is better, I can change the patch.",
      "parentUuid": "3cf6f401_9d4696a3",
      "revId": "0f1bdc00ba905970d8e501409abdd677cefb6d3f",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f06d273e_161fd4db",
        "filename": "src/vlib/threads.c",
        "patchSetId": 2
      },
      "lineNbr": 1671,
      "author": {
        "id": 361
      },
      "writtenOn": "2025-01-08T13:11:23Z",
      "side": 1,
      "message": "fair, but my bigger point in my other comment is that this should remain a debug assert and we should check max #workers at init",
      "parentUuid": "bea55750_f793314e",
      "revId": "0f1bdc00ba905970d8e501409abdd677cefb6d3f",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "297be9cc_0255cfb3",
        "filename": "src/vlib/threads.c",
        "patchSetId": 2
      },
      "lineNbr": 1671,
      "author": {
        "id": 3171
      },
      "writtenOn": "2025-01-18T23:58:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f06d273e_161fd4db",
      "revId": "0f1bdc00ba905970d8e501409abdd677cefb6d3f",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    }
  ]
}