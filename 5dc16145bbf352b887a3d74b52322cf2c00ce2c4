{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "1576b3cf_4c817313",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 1
      },
      "lineNbr": 456,
      "author": {
        "id": 219
      },
      "writtenOn": "2024-10-14T19:39:10Z",
      "side": 1,
      "message": "These comments don\u0027t help me understand the problem. In this case, it would be better to summarize what the code is doing, and point to the relevant sections in the RFC rather than quoting the text which is pretty verbose.",
      "revId": "5dc16145bbf352b887a3d74b52322cf2c00ce2c4",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3f7fcbf4_aee24b65",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 1
      },
      "lineNbr": 472,
      "author": {
        "id": 219
      },
      "writtenOn": "2024-10-14T19:39:10Z",
      "side": 1,
      "message": "Why use a new \"is_udp\" flag? The packet is UDP is udp0 is !\u003d NULL.",
      "revId": "5dc16145bbf352b887a3d74b52322cf2c00ce2c4",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f646d418_05626529",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 1
      },
      "lineNbr": 472,
      "author": {
        "id": 1849
      },
      "writtenOn": "2024-10-15T13:06:52Z",
      "side": 1,
      "message": "In our last fix attempt, we removed udp0-\u003echecksum \u003d\u003d 0 check as \"https://datatracker.ietf.org/doc/html/rfc3948#section-2.1\" stated \"o  receivers MUST NOT depend on the UDP checksum being a zero value.\"\n\nRef to last gerrit log: https://gerrit.fd.io/r/c/vpp/+/40928",
      "revId": "5dc16145bbf352b887a3d74b52322cf2c00ce2c4",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "efd79dec_957d4d56",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 1
      },
      "lineNbr": 478,
      "author": {
        "id": 219
      },
      "writtenOn": "2024-10-14T19:39:10Z",
      "side": 1,
      "message": "Instead of all these comments, why not comment with something like:\n\n  Do not process UDP packets with checksum \u003d\u003d 0 or\n  ESP packets with SPI \u003d\u003d 0 because \u003cbrief explanation\u003e\n\nIt\u0027s not clear to me why you try to distinguish UDP packets with checksum \u003d\u003d 0 when you\u0027ve already determined that this is a UDP-ESP packet because of the port numbers, and the checksum can be zero or non-zero for valid packets.",
      "revId": "5dc16145bbf352b887a3d74b52322cf2c00ce2c4",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8111b2fd_6ffa9208",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 1
      },
      "lineNbr": 478,
      "author": {
        "id": 1854
      },
      "writtenOn": "2024-10-14T23:34:25Z",
      "side": 1,
      "message": "you need to distinguish between UDP-ESP and UDP-IKEv2 both come on same port numbers, but for ESP checksum is 0 while in case of UDP-IKEv2 checksum is !\u003d 0. ESP cannot have SPI \u003d\u003d 0, but IKEv2 have SPI \u003d\u003d 0.",
      "parentUuid": "efd79dec_957d4d56",
      "revId": "5dc16145bbf352b887a3d74b52322cf2c00ce2c4",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "58ae7ad0_0a3330f4",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 1
      },
      "lineNbr": 478,
      "author": {
        "id": 1849
      },
      "writtenOn": "2024-10-15T13:06:52Z",
      "side": 1,
      "message": "What was the ip0-\u003eprotocol value when UDP-IKEV2 packet was received? It was not UDP?",
      "parentUuid": "8111b2fd_6ffa9208",
      "revId": "5dc16145bbf352b887a3d74b52322cf2c00ce2c4",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    }
  ]
}