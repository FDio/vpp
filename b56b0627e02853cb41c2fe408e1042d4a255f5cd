{
  "comments": [
    {
      "key": {
        "uuid": "3a4b7175_488618bb",
        "filename": "Makefile",
        "patchSetId": 3
      },
      "lineNbr": 289,
      "author": {
        "id": 10
      },
      "writtenOn": "2017-09-05T05:01:07Z",
      "side": 1,
      "message": "While this is better, I still don\u0027t understand why this is required.  AFAICT, the CI builds have git installed thus this code does not get run.  Same with my testing of the patch using vagrant (in extras/vagrant).\n\nIn what context is this used?\n\nI also don\u0027t see any code which removes the copied source tree, which is generally not a good practice.",
      "range": {
        "startLine": 284,
        "startChar": 0,
        "endLine": 289,
        "endChar": 45
      },
      "revId": "b56b0627e02853cb41c2fe408e1042d4a255f5cd",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a4b7175_c8c1e8e5",
        "filename": "Makefile",
        "patchSetId": 3
      },
      "lineNbr": 289,
      "author": {
        "id": 1004
      },
      "writtenOn": "2017-09-05T05:24:18Z",
      "side": 1,
      "message": "Thanks for your relpy. So what is the \"else\" case use for? In my opinion, if the flow get into this case, that will incur a empty tarball which is useless. Do you have tested this case? You can note the \"if\" case and see the result.I explain my reseason in jira(vpp-962)",
      "parentUuid": "3a4b7175_488618bb",
      "range": {
        "startLine": 284,
        "startChar": 0,
        "endLine": 289,
        "endChar": 45
      },
      "revId": "b56b0627e02853cb41c2fe408e1042d4a255f5cd",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a4b7175_68b0b48b",
        "filename": "Makefile",
        "patchSetId": 3
      },
      "lineNbr": 289,
      "author": {
        "id": 10
      },
      "writtenOn": "2017-09-05T05:29:48Z",
      "side": 1,
      "message": "AFAICT, the else case is never taken.  Thus my question is why does it exist at all?\n\nI agree that if it is required, then the existing code is broken, but I don\u0027t understand where the requirement for the else statement comes from.  It would appear this comes from a build that is outside of the git tree, which is I believe is an unsupported use-case as far as this Makefile is concerned (per another email thread on vpp-dev@lists.fd.io).",
      "parentUuid": "3a4b7175_c8c1e8e5",
      "range": {
        "startLine": 284,
        "startChar": 0,
        "endLine": 289,
        "endChar": 45
      },
      "revId": "b56b0627e02853cb41c2fe408e1042d4a255f5cd",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a4b7175_a83b4cea",
        "filename": "Makefile",
        "patchSetId": 3
      },
      "lineNbr": 289,
      "author": {
        "id": 1004
      },
      "writtenOn": "2017-09-05T06:50:10Z",
      "side": 1,
      "message": "If the code has no \"git\", it is just a copy code which I have edited, in this case, \"git rev-parse 2\u003e /dev/null\" may return 0, means \"git\" is unable to use? I don\u0027t known this \"else\" case use for.But in my local vpp version, I don\u0027t want download code from gerrit, so I can use \"else\" case to build my rpm which I modify some code.Dose \"git archive\" can swap my amendment?",
      "parentUuid": "3a4b7175_68b0b48b",
      "range": {
        "startLine": 284,
        "startChar": 0,
        "endLine": 289,
        "endChar": 45
      },
      "revId": "b56b0627e02853cb41c2fe408e1042d4a255f5cd",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a4b7175_191ab06e",
        "filename": "Makefile",
        "patchSetId": 3
      },
      "lineNbr": 289,
      "author": {
        "id": 1004
      },
      "writtenOn": "2017-09-06T05:18:20Z",
      "side": 1,
      "message": "Although copying the entire code tree is unnecessary, but \"mkdir -p $(DIST_SUBDIR);\" is necessary, otherwise \"tar -cf $(DIST_FILE) $(DIST_SUBDIR) --exclude\u003d*.tar) \" can not run.Do you think so?Thank you!",
      "parentUuid": "3a4b7175_68b0b48b",
      "range": {
        "startLine": 284,
        "startChar": 0,
        "endLine": 289,
        "endChar": 45
      },
      "revId": "b56b0627e02853cb41c2fe408e1042d4a255f5cd",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a4b7175_b97cbc73",
        "filename": "Makefile",
        "patchSetId": 3
      },
      "lineNbr": 289,
      "author": {
        "id": 10
      },
      "writtenOn": "2017-09-06T05:50:36Z",
      "side": 1,
      "message": "In today\u0027s VPP meeting, I asked Tom Herbert to comment/verify this patch.",
      "parentUuid": "3a4b7175_191ab06e",
      "range": {
        "startLine": 284,
        "startChar": 0,
        "endLine": 289,
        "endChar": 45
      },
      "revId": "b56b0627e02853cb41c2fe408e1042d4a255f5cd",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a4b7175_99cfc0b0",
        "filename": "Makefile",
        "patchSetId": 3
      },
      "lineNbr": 289,
      "author": {
        "id": 1004
      },
      "writtenOn": "2017-09-06T06:13:14Z",
      "side": 1,
      "message": "My company email can not send email to Internet email website, so I only can use comment to talk about with you. Haha~~",
      "parentUuid": "3a4b7175_b97cbc73",
      "range": {
        "startLine": 284,
        "startChar": 0,
        "endLine": 289,
        "endChar": 45
      },
      "revId": "b56b0627e02853cb41c2fe408e1042d4a255f5cd",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a4b7175_f0b6b789",
        "filename": "Makefile",
        "patchSetId": 3
      },
      "lineNbr": 289,
      "author": {
        "id": 32
      },
      "writtenOn": "2017-09-13T13:21:23Z",
      "side": 1,
      "message": "Our build system is based on development packages which are built from the current git tree. However, we must also support getting VPP packages into downstream repos. This work is documented in JIRA 498.",
      "parentUuid": "3a4b7175_68b0b48b",
      "range": {
        "startLine": 284,
        "startChar": 0,
        "endLine": 289,
        "endChar": 45
      },
      "revId": "b56b0627e02853cb41c2fe408e1042d4a255f5cd",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a4b7175_9022e3b7",
        "filename": "Makefile",
        "patchSetId": 3
      },
      "lineNbr": 289,
      "author": {
        "id": 32
      },
      "writtenOn": "2017-09-13T13:21:23Z",
      "side": 1,
      "message": "There may be a way to accomplish the goal of supporting builds from a source rpm as specified in JIRA 498 however I don\u0027t think there is a way without making extensive changes to the build system and/or spec file.",
      "parentUuid": "3a4b7175_b97cbc73",
      "range": {
        "startLine": 284,
        "startChar": 0,
        "endLine": 289,
        "endChar": 45
      },
      "revId": "b56b0627e02853cb41c2fe408e1042d4a255f5cd",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a4b7175_704e47c3",
        "filename": "Makefile",
        "patchSetId": 3
      },
      "lineNbr": 289,
      "author": {
        "id": 32
      },
      "writtenOn": "2017-09-13T13:21:23Z",
      "side": 1,
      "message": "This code with this else clause introduced in commit 8d48722b documented by JIRA 498. Itis required to for downstream builds for RHEL, Centos and Fedora.\n\nThe else clause is taken by the following steps:\n1. make pkg-srpm\nThis results in a file, vpp/extras/rpm/vpp-17.10-rc0-xxx-g\u003ccommit\u003e.src.rpm\n2. On the same or a different system execute the following:\nrpm --rebuild \u003cpath to\u003e/vpp-17.10-rc0-xxx-g\u003ccommit\u003e.src.rpm",
      "parentUuid": "3a4b7175_488618bb",
      "range": {
        "startLine": 284,
        "startChar": 0,
        "endLine": 289,
        "endChar": 45
      },
      "revId": "b56b0627e02853cb41c2fe408e1042d4a255f5cd",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a4b7175_502c6bab",
        "filename": "Makefile",
        "patchSetId": 3
      },
      "lineNbr": 289,
      "author": {
        "id": 32
      },
      "writtenOn": "2017-09-13T13:21:23Z",
      "side": 1,
      "message": "No problem. Your comments are captured in this gerrit. I am sorry it took so long to respond to you and Dave.",
      "parentUuid": "3a4b7175_99cfc0b0",
      "range": {
        "startLine": 284,
        "startChar": 0,
        "endLine": 289,
        "endChar": 45
      },
      "revId": "b56b0627e02853cb41c2fe408e1042d4a255f5cd",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    }
  ]
}