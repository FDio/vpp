{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "47389d58_0b1aeec1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 19
      },
      "lineNbr": 7,
      "author": {
        "id": 193
      },
      "writtenOn": "2025-01-17T19:04:25Z",
      "side": 1,
      "message": "Add a space after colon, i.e., \"tls: async ..\"",
      "revId": "6621b8f96325f5972b7d55b7f32a032987d259c1",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "346183b1_cf1a95ad",
        "filename": "/COMMIT_MSG",
        "patchSetId": 19
      },
      "lineNbr": 7,
      "author": {
        "id": 193
      },
      "writtenOn": "2025-01-20T22:16:43Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "47389d58_0b1aeec1",
      "revId": "6621b8f96325f5972b7d55b7f32a032987d259c1",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "04d91e10_0377ebe0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 19
      },
      "lineNbr": 0,
      "author": {
        "id": 3138
      },
      "writtenOn": "2025-01-17T19:42:50Z",
      "side": 1,
      "message": "Hi Florin,\n\nWhen I\u0027m testing with async mode along with pipeline configuration (please refer below), observing memory leak.\nhttps://gerrit.fd.io/r/c/vpp/+/41591/11/src/plugins/tlsopenssl/tls_openssl.c#1396\nhttps://gerrit.fd.io/r/c/vpp/+/41591/11/src/plugins/tlsopenssl/tls_openssl.c#981\n\nDo you see any more changes required in plugin/session layer to handle pipeline support?\n\nThanks,\nVarun",
      "revId": "6621b8f96325f5972b7d55b7f32a032987d259c1",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6c1b1321_5eb5ef64",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 19
      },
      "lineNbr": 0,
      "author": {
        "id": 3138
      },
      "writtenOn": "2025-01-19T12:02:59Z",
      "side": 1,
      "message": "With http tps, observing memory leak in both with and without enabling async mode  cases:\n\nCase 1: (without enabling engine \u0026 async mode)\n1. tls openssl set-tls record-size 16384 record-split-size 68 max-pipelines 4\n2. http tps  uri tls://0.0.0.0/443 private-segment-size  4294901760 fifo-size 128\n\nCase 2: (with enabling engine \u0026 async mode)\n1. tls openssl set engine dpdk_engine async\n2. tls openssl set-tls record-size 16384 record-split-size 68 max-pipelines 4\n3. http tps  uri tls://0.0.0.0/443 private-segment-size  4294901760 fifo-size 128",
      "parentUuid": "04d91e10_0377ebe0",
      "revId": "6621b8f96325f5972b7d55b7f32a032987d259c1",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3d76892b_974de2c7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 19
      },
      "lineNbr": 0,
      "author": {
        "id": 193
      },
      "writtenOn": "2025-01-20T22:16:43Z",
      "side": 1,
      "message": "My issue is not having any testbed with async capability. I have QATs but I think I may need a bios update. \n\nI was up untill now assuming you\u0027re testing with marvel async crypto hw. Is that so, or are you just using pipelining to force async operations? Are those handled by the qat engine or dasync?\n\nNo more comments for now regarding async changes.",
      "parentUuid": "04d91e10_0377ebe0",
      "revId": "6621b8f96325f5972b7d55b7f32a032987d259c1",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "885b8d52_94ddffc6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 19
      },
      "lineNbr": 0,
      "author": {
        "id": 3138
      },
      "writtenOn": "2025-01-20T22:30:02Z",
      "side": 1,
      "message": "Have tested below combinations:\n1. Marvell async crypto h/w with async mode (with and without pipeline config)\n2. W/o marvell crypto h/w (with and without pipeline config)\n\nNo functional issues observed in all 4 cases, except memory leak with pipeline config.",
      "parentUuid": "3d76892b_974de2c7",
      "revId": "6621b8f96325f5972b7d55b7f32a032987d259c1",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8a5767fb_5ebcbde5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 19
      },
      "lineNbr": 0,
      "author": {
        "id": 193
      },
      "writtenOn": "2025-01-20T23:02:02Z",
      "side": 1,
      "message": "What type of improvements are we seeing with marvell hw?",
      "parentUuid": "885b8d52_94ddffc6",
      "revId": "6621b8f96325f5972b7d55b7f32a032987d259c1",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ffd634b3_b80e6a51",
        "filename": "src/plugins/tlsopenssl/tls_async.c",
        "patchSetId": 19
      },
      "lineNbr": 408,
      "author": {
        "id": 193
      },
      "writtenOn": "2025-01-17T19:04:25Z",
      "side": 1,
      "message": "Nice, I can\u0027t test this so just asking questions: basically if we\u0027re doing async write, you take out the connection out of the scheduler until we get called back that the async write was completed?",
      "revId": "6621b8f96325f5972b7d55b7f32a032987d259c1",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "676f63b4_c410518f",
        "filename": "src/plugins/tlsopenssl/tls_async.c",
        "patchSetId": 19
      },
      "lineNbr": 408,
      "author": {
        "id": 3138
      },
      "writtenOn": "2025-01-17T19:42:50Z",
      "side": 1,
      "message": "Yes, similar to the logic implemented in openssl_handle_want_async function earlier.",
      "parentUuid": "ffd634b3_b80e6a51",
      "revId": "6621b8f96325f5972b7d55b7f32a032987d259c1",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3af2b0ca_eb87e59f",
        "filename": "src/plugins/tlsopenssl/tls_async.c",
        "patchSetId": 19
      },
      "lineNbr": 408,
      "author": {
        "id": 193
      },
      "writtenOn": "2025-01-20T22:16:43Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "676f63b4_c410518f",
      "revId": "6621b8f96325f5972b7d55b7f32a032987d259c1",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cfa55170_732cc94e",
        "filename": "src/plugins/tlsopenssl/tls_async.c",
        "patchSetId": 19
      },
      "lineNbr": 543,
      "author": {
        "id": 193
      },
      "writtenOn": "2025-01-17T19:04:25Z",
      "side": 1,
      "message": "At one point I think we should be improving this to do batching of rcps, instead of doing one rpc per ctx.",
      "revId": "6621b8f96325f5972b7d55b7f32a032987d259c1",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "238f03d7_5080232a",
        "filename": "src/plugins/tlsopenssl/tls_async.c",
        "patchSetId": 19
      },
      "lineNbr": 543,
      "author": {
        "id": 3138
      },
      "writtenOn": "2025-01-17T19:42:50Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "cfa55170_732cc94e",
      "revId": "6621b8f96325f5972b7d55b7f32a032987d259c1",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cc763d5f_bba114ad",
        "filename": "src/plugins/tlsopenssl/tls_async.c",
        "patchSetId": 19
      },
      "lineNbr": 543,
      "author": {
        "id": 193
      },
      "writtenOn": "2025-01-20T22:16:43Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "238f03d7_5080232a",
      "revId": "6621b8f96325f5972b7d55b7f32a032987d259c1",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f0064cfa_aedd6333",
        "filename": "src/plugins/tlsopenssl/tls_async.c",
        "patchSetId": 19
      },
      "lineNbr": 764,
      "author": {
        "id": 193
      },
      "writtenOn": "2025-01-17T19:04:25Z",
      "side": 1,
      "message": "maybe above this `ASSERT (thread_index \u003d\u003d vlib_get_thread_index())` to avoid surprises. Similar for the other events",
      "revId": "6621b8f96325f5972b7d55b7f32a032987d259c1",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d678b058_3c089990",
        "filename": "src/plugins/tlsopenssl/tls_async.c",
        "patchSetId": 19
      },
      "lineNbr": 764,
      "author": {
        "id": 3138
      },
      "writtenOn": "2025-01-17T19:42:50Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "f0064cfa_aedd6333",
      "revId": "6621b8f96325f5972b7d55b7f32a032987d259c1",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9dc1b3e3_17627047",
        "filename": "src/plugins/tlsopenssl/tls_async.c",
        "patchSetId": 19
      },
      "lineNbr": 764,
      "author": {
        "id": 193
      },
      "writtenOn": "2025-01-20T22:16:43Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d678b058_3c089990",
      "revId": "6621b8f96325f5972b7d55b7f32a032987d259c1",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    }
  ]
}