{
  "comments": [
    {
      "key": {
        "uuid": "a8546094_d132147a",
        "filename": "src/vnet/session/application_local.c",
        "patchSetId": 7
      },
      "lineNbr": 528,
      "author": {
        "id": 1263
      },
      "writtenOn": "2020-10-30T09:25:26Z",
      "side": 1,
      "message": "Rename the value to something like \"action count\", so you no longer need comments for any action different from \"packet sent\".",
      "range": {
        "startLine": 528,
        "startChar": 24,
        "endLine": 528,
        "endChar": 36
      },
      "revId": "d6894568709b59625f03e92595e0686b05f2167a",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a5504171_d7269c82",
        "filename": "src/vnet/session/application_local.c",
        "patchSetId": 7
      },
      "lineNbr": 528,
      "author": {
        "id": 193
      },
      "writtenOn": "2020-10-30T15:08:09Z",
      "side": 1,
      "message": "Not sure I understand the comment. This function is called from the session scheduler which uses packets sent to limit work/dispatch. Other functions, e.g., handlers for tcp/udp, will return actual packets sent to the network but cut-through sessions do not generate packets (they don\u0027t interact with the network actually), instead they only pass notifications around in vpp. \n\nThe comment is meant to explain the 1, which we can tweak going forward in case we don\u0027t want to handle a max of 256 cut-through sessions/dispatch.",
      "parentUuid": "a8546094_d132147a",
      "range": {
        "startLine": 528,
        "startChar": 24,
        "endLine": 528,
        "endChar": 36
      },
      "revId": "d6894568709b59625f03e92595e0686b05f2167a",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "205314e6_613f7658",
        "filename": "src/vnet/session/application_local.c",
        "patchSetId": 7
      },
      "lineNbr": 528,
      "author": {
        "id": 1263
      },
      "writtenOn": "2020-10-30T16:06:40Z",
      "side": 1,
      "message": "\u003e the session scheduler which uses packets sent to limit work/dispatch.\n\nIt seems the limiting quantity is something more general than packets (directly) sent.\nI created a small edit to show what I mean: https://gerrit.fd.io/r/c/vpp/+/29700\nMaybe some of edited places should still refer to packets, but the return value is not one of them.\n\nNow I see this value directly affects the return value of function for node session_queue_node, and those (node function return values in general) probably already have a specific meaning attached already (I just do not know which documentation to consult yet).",
      "parentUuid": "a5504171_d7269c82",
      "range": {
        "startLine": 528,
        "startChar": 24,
        "endLine": 528,
        "endChar": 36
      },
      "revId": "d6894568709b59625f03e92595e0686b05f2167a",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f9daa560_fc784874",
        "filename": "src/vnet/session/application_local.c",
        "patchSetId": 7
      },
      "lineNbr": 528,
      "author": {
        "id": 193
      },
      "writtenOn": "2020-10-30T16:15:35Z",
      "side": 1,
      "message": "That meaning is vectors (i.e, packets) generated. Yes it serves multiple purposes, as it will show up in show run as the number of vectors generated/dispatch. But as explained in the comment here, it also serves as a means of limiting total work/dispatch in the scheduler as it won\u0027t generate more than a max number of packets/dispatch (currently that value is a full vlib frame).",
      "parentUuid": "205314e6_613f7658",
      "range": {
        "startLine": 528,
        "startChar": 24,
        "endLine": 528,
        "endChar": 36
      },
      "revId": "d6894568709b59625f03e92595e0686b05f2167a",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    }
  ]
}