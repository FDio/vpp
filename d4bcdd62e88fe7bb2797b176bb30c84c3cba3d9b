{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "2ee8a273_0396864b",
        "filename": "src/plugins/tlsopenssl/tls_openssl.c",
        "patchSetId": 4
      },
      "lineNbr": 528,
      "author": {
        "id": 193
      },
      "writtenOn": "2025-12-12T00:10:55Z",
      "side": 0,
      "message": "We should make sure dgrams fit. That is, if we get dgrams larger than `vec_len (buf)`, we can 1) either on the spot grow the buffer (these cannot be more than 64kB) or 2) refuse to send. If we want 2) we should offer knobs to configure default buffer size. Let\u0027s go with 1) for now.",
      "range": {
        "startLine": 528,
        "startChar": 36,
        "endLine": 528,
        "endChar": 67
      },
      "revId": "d4bcdd62e88fe7bb2797b176bb30c84c3cba3d9b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f354b4d8_48980363",
        "filename": "src/plugins/tlsopenssl/tls_openssl.c",
        "patchSetId": 4
      },
      "lineNbr": 528,
      "author": {
        "id": 3161
      },
      "writtenOn": "2025-12-12T14:45:05Z",
      "side": 0,
      "message": "Sure. Why the 64k limit though? \nSSL_read has the 16k record size limit, but I don\u0027t see anything like that for SSL_write.",
      "parentUuid": "2ee8a273_0396864b",
      "range": {
        "startLine": 528,
        "startChar": 36,
        "endLine": 528,
        "endChar": 67
      },
      "revId": "d4bcdd62e88fe7bb2797b176bb30c84c3cba3d9b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "86930e87_5e3aa908",
        "filename": "src/plugins/tlsopenssl/tls_openssl.c",
        "patchSetId": 4
      },
      "lineNbr": 528,
      "author": {
        "id": 193
      },
      "writtenOn": "2025-12-15T17:21:07Z",
      "side": 0,
      "message": "IP datagrams cannot exceed 64kB. But probably yes, we should limit to 16k because of tls record sizes. Let\u0027s drop anything larger.",
      "parentUuid": "f354b4d8_48980363",
      "range": {
        "startLine": 528,
        "startChar": 36,
        "endLine": 528,
        "endChar": 67
      },
      "revId": "d4bcdd62e88fe7bb2797b176bb30c84c3cba3d9b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f78ef28c_15a69387",
        "filename": "src/plugins/tlsopenssl/tls_openssl.c",
        "patchSetId": 4
      },
      "lineNbr": 528,
      "author": {
        "id": 3161
      },
      "writtenOn": "2025-12-16T16:02:43Z",
      "side": 0,
      "message": "Ack",
      "parentUuid": "86930e87_5e3aa908",
      "range": {
        "startLine": 528,
        "startChar": 36,
        "endLine": 528,
        "endChar": 67
      },
      "revId": "d4bcdd62e88fe7bb2797b176bb30c84c3cba3d9b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f79edf4f_1db5afd9",
        "filename": "src/plugins/tlsopenssl/tls_openssl.c",
        "patchSetId": 4
      },
      "lineNbr": 542,
      "author": {
        "id": 193
      },
      "writtenOn": "2025-12-12T00:10:55Z",
      "side": 0,
      "message": "This should be fine as is, if buffer is large enough. Problem is what happens when udp layer (session_node actually) tries to generate dgram. Either udp mss allows for it and then ip layer should fragment in rewrite, if interface mtu asks for it. Otherwise everything should be dropped. \n\nThe test you added should be good for this, but we may have to reduce interface mtu because by default even taps are 9k.",
      "revId": "d4bcdd62e88fe7bb2797b176bb30c84c3cba3d9b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "123b242b_5aeac05e",
        "filename": "src/plugins/tlsopenssl/tls_openssl.c",
        "patchSetId": 4
      },
      "lineNbr": 542,
      "author": {
        "id": 3161
      },
      "writtenOn": "2025-12-12T14:45:05Z",
      "side": 0,
      "message": "Yeah, if we\u0027re to resize buffers instead, then this doesn\u0027t make sense.\n\nAnd about testing, we\u0027re over veth, so default MTU is 1500 bytes - we should be fine in that regard.",
      "parentUuid": "f79edf4f_1db5afd9",
      "revId": "d4bcdd62e88fe7bb2797b176bb30c84c3cba3d9b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a8eb845f_427538e8",
        "filename": "src/plugins/tlsopenssl/tls_openssl.c",
        "patchSetId": 4
      },
      "lineNbr": 542,
      "author": {
        "id": 193
      },
      "writtenOn": "2025-12-15T17:21:07Z",
      "side": 0,
      "message": "Yup, let\u0027s make sure buffer is large enough and test to make sure things are stable.",
      "parentUuid": "123b242b_5aeac05e",
      "revId": "d4bcdd62e88fe7bb2797b176bb30c84c3cba3d9b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "88e153a1_9ad71ff1",
        "filename": "src/plugins/tlsopenssl/tls_openssl.c",
        "patchSetId": 4
      },
      "lineNbr": 542,
      "author": {
        "id": 3161
      },
      "writtenOn": "2025-12-16T16:02:43Z",
      "side": 0,
      "message": "Ack",
      "parentUuid": "a8eb845f_427538e8",
      "revId": "d4bcdd62e88fe7bb2797b176bb30c84c3cba3d9b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    }
  ]
}