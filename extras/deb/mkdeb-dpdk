#!/bin/bash
source "$(dirname "${BASH_SOURCE[0]}")/mkdeb.inc"

mkdeb init \
  --name vpp-dep-dpdk \
  --description "VPP development package for DPDK"

mkdeb fetch-github \
  --repo DPDK/dpdk

mkdeb log "Configuring ..."
python3 -m venv ${build_dir}/.venv
${build_dir}/.venv/pip3 install meson

mkdeb log "Compiling ..."
cmake --build ${build_dir}

mkdeb log "Installing to ${staging_dir} ..."
cmake --install ${build_dir}

mkdeb finalize
