# Run from top of vpp repo with command:
# docker build -f extras/docker/build/Dockerfile.xenial .
FROM ubuntu:xenial
ARG REPO=master
RUN apt-get update && apt-get -y install make sudo git curl
RUN curl -s https://packagecloud.io/install/repositories/fdio/${REPO}/script.deb.sh |  bash
RUN apt-get update && apt-get -y install vpp-dpdk-dev
COPY . /vpp
WORKDIR /vpp
RUN UNATTENDED=y make install-dep
RUN make pkg-deb
CMD ["/bin/bash"]