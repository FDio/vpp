---
devices:
  - name: "hsns"
    type: "netns"

  - name: "vppsrv"
    type: "veth"
    peer:
      name: "vppsrv_veth"
      netns: "hsns"

  - name: "vppcln"
    type: "veth"
    peer:
      name: "vppcln_veth"
      netns: "hsns"

  - name: "br"
    type: "bridge"
    netns: "hsns"
    interfaces:
      - vppsrv_veth
      - vppcln_veth

volumes:
  - server-share
  - client-share

containers:
  - name: "server-vpp"
    volumes:
      - host-dir: "server-share"
        container-dir: "/tmp/server-share"
        is-default-work-dir: true
      - host-dir: "/tmp/server"
        container-dir: "/tmp/server"
  - name: "client-vpp"
    volumes:
      - host-dir: "client-share"
        container-dir: "/tmp/client-share"
        is-default-work-dir: true
      - host-dir: "/tmp/client"
        container-dir: "/tmp/client"
  - name: "server-application"
    volumes:
      - host-dir: "server-share"
        container-dir: "/tmp/server-share"
        is-default-work-dir: true
  - name: "client-application"
    volumes:
      - host-dir: "client-share"
        container-dir: "/tmp/client-share"
        is-default-work-dir: true

