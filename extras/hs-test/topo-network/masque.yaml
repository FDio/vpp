---
devices:
  - name: "client-ns"
    type: "netns"

  - name: "cln"
    type: "veth"
    peer:
      name: "mcln"
      netns: "client-ns"
      ip4:
        network: 1

  - name: "cln-tun"
    type: "veth"
    peer:
      name: "mtuncln"
      ip4:
        network: 2

  - name: "srv-tun"
    type: "veth"
    peer:
      name: "mtunsrv"
      ip4:
        network: 2

  - name: "srv"
    type: "veth"
    peer:
      name: "msrv"
      ip4:
        network: 3

  - name: "br"
    type: "bridge"
    interfaces:
      - mtuncln
      - mtunsrv
