{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "3f472ae3_2cbf7240",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 219
      },
      "writtenOn": "2025-02-12T00:29:39Z",
      "side": 1,
      "message": "Some formatting issues (maybe my browser is displaying it wrong)\nOtherwise the logical and (\u0026\u0026) should be fixed.",
      "revId": "0c70991ed78be36222106bc5e94c83dfca8acbea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "58a6cd36_b5de9af7",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 3
      },
      "lineNbr": 219,
      "author": {
        "id": 219
      },
      "writtenOn": "2025-02-12T00:29:39Z",
      "side": 1,
      "message": "Is it just me or is the indent off on this line?",
      "revId": "0c70991ed78be36222106bc5e94c83dfca8acbea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1a9f6cfc_47aba8e0",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 3
      },
      "lineNbr": 219,
      "author": {
        "id": 1854
      },
      "writtenOn": "2025-02-12T12:04:11Z",
      "side": 1,
      "message": "I\u0027ve added new line - but the checkstyle doesn\u0027t like indentation and the fixstyle \"correets\" it to what you see.",
      "parentUuid": "58a6cd36_b5de9af7",
      "revId": "0c70991ed78be36222106bc5e94c83dfca8acbea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7d3ae619_6ae5d5d6",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 3
      },
      "lineNbr": 876,
      "author": {
        "id": 219
      },
      "writtenOn": "2025-02-12T00:29:39Z",
      "side": 1,
      "message": "Should be \"\u0026\u0026 has_space0\"",
      "revId": "0c70991ed78be36222106bc5e94c83dfca8acbea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dec11cf0_afc884c9",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 3
      },
      "lineNbr": 876,
      "author": {
        "id": 219
      },
      "writtenOn": "2025-02-12T00:36:08Z",
      "side": 1,
      "message": "I see this is not supposed to be a logical AND (though it would have the same effect). Existing code, and other uses of vlib_buffer_has_space do the same bitwise AND that\u0027s done here.",
      "parentUuid": "7d3ae619_6ae5d5d6",
      "revId": "0c70991ed78be36222106bc5e94c83dfca8acbea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "06473bf8_433fc1fb",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 3
      },
      "lineNbr": 876,
      "author": {
        "id": 1854
      },
      "writtenOn": "2025-02-12T12:04:11Z",
      "side": 1,
      "message": "Good catch",
      "parentUuid": "dec11cf0_afc884c9",
      "revId": "0c70991ed78be36222106bc5e94c83dfca8acbea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4dd82397_45c467ca",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 3
      },
      "lineNbr": 942,
      "author": {
        "id": 1849
      },
      "writtenOn": "2025-02-12T09:56:24Z",
      "side": 1,
      "message": "Please enlighten me here - if p0 is found here why we are dropping the packet?",
      "revId": "0c70991ed78be36222106bc5e94c83dfca8acbea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8066c87e_37897eb0",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 3
      },
      "lineNbr": 942,
      "author": {
        "id": 1854
      },
      "writtenOn": "2025-02-12T12:04:11Z",
      "side": 1,
      "message": "Because it is policy DISCARD match - the only interesting thing that will happen is the ipsec_dropped counter incrementation - so that it reflects in stats.",
      "parentUuid": "4dd82397_45c467ca",
      "revId": "0c70991ed78be36222106bc5e94c83dfca8acbea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f0991595_d0c329c3",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 3
      },
      "lineNbr": 1038,
      "author": {
        "id": 1849
      },
      "writtenOn": "2025-02-12T09:56:24Z",
      "side": 1,
      "message": "Logic 1027 and 1038 should be combined. I understand you may want to keep the clib_warning message. However, the warning was never compiled (wrapped by #if 0) so I don\u0027t see the point of keeping it. The trace should have enough debug info for this packet already.",
      "revId": "0c70991ed78be36222106bc5e94c83dfca8acbea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2af979f8_6e3c32f0",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 3
      },
      "lineNbr": 1038,
      "author": {
        "id": 1854
      },
      "writtenOn": "2025-02-12T12:04:11Z",
      "side": 1,
      "message": "ok I can remove the #ifed section",
      "parentUuid": "f0991595_d0c329c3",
      "revId": "0c70991ed78be36222106bc5e94c83dfca8acbea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c188ae61_56284209",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 3
      },
      "lineNbr": 1038,
      "author": {
        "id": 1854
      },
      "writtenOn": "2025-02-13T23:17:52Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2af979f8_6e3c32f0",
      "revId": "0c70991ed78be36222106bc5e94c83dfca8acbea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "77d990b4_50e270ed",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 3
      },
      "lineNbr": 1040,
      "author": {
        "id": 219
      },
      "writtenOn": "2025-02-12T00:29:39Z",
      "side": 1,
      "message": "Is it just me or is the indent off on this line?",
      "revId": "0c70991ed78be36222106bc5e94c83dfca8acbea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0303191b_10051852",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 3
      },
      "lineNbr": 1040,
      "author": {
        "id": 1854
      },
      "writtenOn": "2025-02-12T12:04:11Z",
      "side": 1,
      "message": "The formatting is enforced  by make fixstyle",
      "parentUuid": "77d990b4_50e270ed",
      "revId": "0c70991ed78be36222106bc5e94c83dfca8acbea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "32bc7e7f_0e1e1bdb",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 3
      },
      "lineNbr": 1050,
      "author": {
        "id": 1849
      },
      "writtenOn": "2025-02-12T09:56:24Z",
      "side": 1,
      "message": "I am hoping this could goes into an inline function and includes the trace into it too.",
      "revId": "0c70991ed78be36222106bc5e94c83dfca8acbea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d6cfaa98_49bcd6f5",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 3
      },
      "lineNbr": 1050,
      "author": {
        "id": 1854
      },
      "writtenOn": "2025-02-12T12:04:11Z",
      "side": 1,
      "message": "yes we can do it - also we can fix bypass and discard handling for ah, another thing is that ah packages may probably be encapsulated in udp header, but then can I fix it in separate patch? As the amount of changes becomes significant, so I would prefer to deal with ah in another round.",
      "parentUuid": "32bc7e7f_0e1e1bdb",
      "revId": "0c70991ed78be36222106bc5e94c83dfca8acbea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "616ac2bc_a0f53c3c",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 3
      },
      "lineNbr": 1050,
      "author": {
        "id": 1849
      },
      "writtenOn": "2025-02-13T09:59:11Z",
      "side": 1,
      "message": "Yeah thanks for that. Yes it needs to be handled and I agree on making both changes in a different patch.",
      "parentUuid": "d6cfaa98_49bcd6f5",
      "revId": "0c70991ed78be36222106bc5e94c83dfca8acbea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d9fd42e6_4b812f65",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 3
      },
      "lineNbr": 1091,
      "author": {
        "id": 219
      },
      "writtenOn": "2025-02-12T00:29:39Z",
      "side": 1,
      "message": "This label might be hard to miss if its indented. I think the label should start in the first column.",
      "revId": "0c70991ed78be36222106bc5e94c83dfca8acbea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e34f7186_f0abaead",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 3
      },
      "lineNbr": 1091,
      "author": {
        "id": 1854
      },
      "writtenOn": "2025-02-12T12:04:11Z",
      "side": 1,
      "message": "Again it\u0027s enforced by the formatter - if I move it make checkstyle will complains.",
      "parentUuid": "d9fd42e6_4b812f65",
      "revId": "0c70991ed78be36222106bc5e94c83dfca8acbea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "546950cf_17864c05",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 3
      },
      "lineNbr": 1091,
      "author": {
        "id": 1849
      },
      "writtenOn": "2025-02-13T09:59:11Z",
      "side": 1,
      "message": "You have a variable \"ipsec_bypassed\" with the same name as the jumping point \"ipsec_bypassed\". No matter if it is the cause that checkstyle forces this indention, it is misleading.\n\nAlso instead of jumping when detected ipsec_bypassed \u003e 0, you may increment \"ipsec_unprocessed\" by 1 at line 1039 and adds a \"goto next_packet;\" after it, and then adds \"next_packet:\" in line 1087.",
      "parentUuid": "e34f7186_f0abaead",
      "revId": "0c70991ed78be36222106bc5e94c83dfca8acbea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c183a340_1e6cdfdb",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 3
      },
      "lineNbr": 1091,
      "author": {
        "id": 1854
      },
      "writtenOn": "2025-02-13T17:30:42Z",
      "side": 1,
      "message": "Yes you\u0027re right, I\u0027ll correct that.",
      "parentUuid": "546950cf_17864c05",
      "revId": "0c70991ed78be36222106bc5e94c83dfca8acbea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "25e4ed8f_cc95ba55",
        "filename": "src/vnet/ipsec/ipsec_input.c",
        "patchSetId": 3
      },
      "lineNbr": 1091,
      "author": {
        "id": 1854
      },
      "writtenOn": "2025-02-13T18:04:44Z",
      "side": 1,
      "message": "Thanks for paying attention to this goto statement - it turned out it was a bug introduced by Vinay. Basically he counted bypassed packets twice - as  bypassed and unprocessed.",
      "parentUuid": "c183a340_1e6cdfdb",
      "revId": "0c70991ed78be36222106bc5e94c83dfca8acbea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    }
  ]
}