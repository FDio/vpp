{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "812fadb8_cbd2b48a",
        "filename": "src/vnet/session/application_interface.h",
        "patchSetId": 2
      },
      "lineNbr": 290,
      "author": {
        "id": 123
      },
      "writtenOn": "2025-07-24T12:18:51Z",
      "side": 1,
      "message": "is this really needed?",
      "revId": "8b4fa9c66580d26e656c8762be370c3f3456aea7",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "91a80fcb_0f9724c8",
        "filename": "src/vnet/session/application_interface.h",
        "patchSetId": 2
      },
      "lineNbr": 290,
      "author": {
        "id": 3161
      },
      "writtenOn": "2025-07-24T12:31:06Z",
      "side": 1,
      "message": "Maybe it should be called app_data_seg_t, but I was just thinking about some naming consistency.",
      "parentUuid": "812fadb8_cbd2b48a",
      "revId": "8b4fa9c66580d26e656c8762be370c3f3456aea7",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7dd15df8_91631ece",
        "filename": "src/vnet/session/application_interface.h",
        "patchSetId": 2
      },
      "lineNbr": 633,
      "author": {
        "id": 123
      },
      "writtenOn": "2025-07-24T12:18:51Z",
      "side": 1,
      "message": "this is not needed you can sum len of each segment",
      "range": {
        "startLine": 633,
        "startChar": 12,
        "endLine": 633,
        "endChar": 20
      },
      "revId": "8b4fa9c66580d26e656c8762be370c3f3456aea7",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e2fe3b23_a528eca3",
        "filename": "src/vnet/session/application_interface.h",
        "patchSetId": 2
      },
      "lineNbr": 633,
      "author": {
        "id": 3161
      },
      "writtenOn": "2025-07-24T12:31:06Z",
      "side": 1,
      "message": "Yeah, but then we have to unnecessarily iterate over N segments and sum it up, while the caller can do this when they put together the segment array.",
      "parentUuid": "7dd15df8_91631ece",
      "range": {
        "startLine": 633,
        "startChar": 12,
        "endLine": 633,
        "endChar": 20
      },
      "revId": "8b4fa9c66580d26e656c8762be370c3f3456aea7",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "16330695_0c10b700",
        "filename": "src/vnet/session/application_interface.h",
        "patchSetId": 2
      },
      "lineNbr": 656,
      "author": {
        "id": 123
      },
      "writtenOn": "2025-07-24T12:18:51Z",
      "side": 1,
      "message": "you should call this only once. so maybe force caller to pass segs with first one reserved for header (otherwise you need to create n+1 on heap here)",
      "range": {
        "startLine": 652,
        "startChar": 1,
        "endLine": 656,
        "endChar": 29
      },
      "revId": "8b4fa9c66580d26e656c8762be370c3f3456aea7",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ae29b9c8_c3ef76bf",
        "filename": "src/vnet/session/application_interface.h",
        "patchSetId": 2
      },
      "lineNbr": 656,
      "author": {
        "id": 3161
      },
      "writtenOn": "2025-07-24T12:31:06Z",
      "side": 1,
      "message": "Just as I feared :/\nBut I don\u0027t really like idea of having the caller leave the first element empty, this feels like something that could introduce some unintentional bugs. Maybe do a fixed-size static array bound by some APP_DATA_SEGS_MAX define?\n\nExample:\n#define APP_DATA_SEGS_MAX 32\n...\nif(data_nsegs \u003e APP_DATA_SEGS_MAX)\n     return some error\n...\nsvm_fifo_seg_t segs[APP_DATA_SEGS_MAX+1] \u003d {{ (u8 *) \u0026hdr, sizeof (hdr) }};\nclib_memcpy_fast (\u0026(segs[1]), data_segs, sizeof(app_data_seg_t)*data_nsegs);\n\nrv \u003d svm_fifo_enqueue_segments (f, hdr_seg, data_nsegs+1, 0 );",
      "parentUuid": "16330695_0c10b700",
      "range": {
        "startLine": 652,
        "startChar": 1,
        "endLine": 656,
        "endChar": 29
      },
      "revId": "8b4fa9c66580d26e656c8762be370c3f3456aea7",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2"
    }
  ]
}