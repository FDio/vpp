{
  "comments": [
    {
      "key": {
        "uuid": "178c96f9_2aad9fd9",
        "filename": "src/vnet/ip/ip.h",
        "patchSetId": 4
      },
      "lineNbr": 304,
      "author": {
        "id": 601
      },
      "writtenOn": "2022-05-12T08:50:41Z",
      "side": 1,
      "message": "I think this should be placed next to pool functions, how does it relate to ip.h code?",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8f5b1e4e_13ac801c",
        "filename": "src/vnet/ip/ip.h",
        "patchSetId": 4
      },
      "lineNbr": 304,
      "author": {
        "id": 742
      },
      "writtenOn": "2022-05-12T13:10:14Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "178c96f9_2aad9fd9",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6cd3bad7_805ba8d2",
        "filename": "src/vnet/ip/ip.h",
        "patchSetId": 4
      },
      "lineNbr": 315,
      "author": {
        "id": 601
      },
      "writtenOn": "2022-05-12T08:50:41Z",
      "side": 1,
      "message": "this doesn\u0027t belong in ip.h, it\u0027s reassembly code and only used from one place\n\nalso, use inline function instead of #define as macros make it harder to debug",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "29e11191_22e5dde3",
        "filename": "src/vnet/ip/ip.h",
        "patchSetId": 4
      },
      "lineNbr": 315,
      "author": {
        "id": 742
      },
      "writtenOn": "2022-05-12T13:10:14Z",
      "side": 1,
      "message": "i can change to inline function.. for sure.. its needed in ip.h or equivalent to include in both ip4 and ip6 reassembly functions",
      "parentUuid": "6cd3bad7_805ba8d2",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "991bd842_1978a758",
        "filename": "src/vnet/ip/ip.h",
        "patchSetId": 4
      },
      "lineNbr": 315,
      "author": {
        "id": 601
      },
      "writtenOn": "2022-05-12T13:24:41Z",
      "side": 1,
      "message": "where is the ip6 change then?",
      "parentUuid": "29e11191_22e5dde3",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6c0a31f5_dd35dc61",
        "filename": "src/vnet/ip/ip.h",
        "patchSetId": 4
      },
      "lineNbr": 315,
      "author": {
        "id": 742
      },
      "writtenOn": "2022-05-12T13:37:48Z",
      "side": 1,
      "message": "i was just  making sure all the v4 changes goes thru then followed by do the ipv6 changes.",
      "parentUuid": "991bd842_1978a758",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bfb475bf_e0cfc76e",
        "filename": "src/vnet/ip/reass/ip4_full_reass.c",
        "patchSetId": 4
      },
      "lineNbr": 35,
      "author": {
        "id": 601
      },
      "writtenOn": "2022-05-12T08:50:41Z",
      "side": 1,
      "message": "I am not sure what is the impact of this change and why is this included in \"fixing buffer leaks\"?",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c68bacee_35e855bf",
        "filename": "src/vnet/ip/reass/ip4_full_reass.c",
        "patchSetId": 4
      },
      "lineNbr": 35,
      "author": {
        "id": 742
      },
      "writtenOn": "2022-05-12T13:10:14Z",
      "side": 1,
      "message": "i can change the title of the commit to misc. as this doesn\u0027t deal with buffer leaks ..as its programmable i can back track as well",
      "parentUuid": "bfb475bf_e0cfc76e",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c919591b_36d0e3df",
        "filename": "src/vnet/ip/reass/ip4_full_reass.c",
        "patchSetId": 4
      },
      "lineNbr": 35,
      "author": {
        "id": 601
      },
      "writtenOn": "2022-05-12T13:24:41Z",
      "side": 1,
      "message": "that\u0027s not a real solution though as this is not about \"wrong name\".\n\nwhat you are doing here is mixing 3 different behaviour changes (min fragments, pacing and memory allocation) with some bug fixes.\n\nso I would say 4 is the minimum # of patches to have.\n\nhaving a patch which changes only one thing at a time greatly reduces effort when e.g. backporting patches to older branches, reviewing code, etc.",
      "parentUuid": "c68bacee_35e855bf",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3df923a2_2704dbd4",
        "filename": "src/vnet/ip/reass/ip4_full_reass.c",
        "patchSetId": 4
      },
      "lineNbr": 35,
      "author": {
        "id": 742
      },
      "writtenOn": "2022-05-12T13:36:43Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "c919591b_36d0e3df",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b93c4a37_c43c9e0d",
        "filename": "src/vnet/ip/reass/ip4_full_reass.c",
        "patchSetId": 4
      },
      "lineNbr": 442,
      "author": {
        "id": 601
      },
      "writtenOn": "2022-05-12T08:50:41Z",
      "side": 1,
      "message": "when does this occur? and why shouldn\u0027t we process more ranges in this case? won\u0027t there be a leak?",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9dd3dc1d_6d10e499",
        "filename": "src/vnet/ip/reass/ip4_full_reass.c",
        "patchSetId": 4
      },
      "lineNbr": 442,
      "author": {
        "id": 742
      },
      "writtenOn": "2022-05-12T13:10:14Z",
      "side": 1,
      "message": "its one of the case where when things are already freed up.. its more of defensive check.. i can back track this change set if you are against this change",
      "parentUuid": "b93c4a37_c43c9e0d",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "674d0959_8e52653e",
        "filename": "src/vnet/ip/reass/ip4_full_reass.c",
        "patchSetId": 4
      },
      "lineNbr": 442,
      "author": {
        "id": 601
      },
      "writtenOn": "2022-05-12T13:24:41Z",
      "side": 1,
      "message": "do you see this counter bumped in your environment? if yes, then it does happen and I would rather have code to have it not happen, if possible (plus a comment explaining when exactly it happens)\n\nhaving safeties \"just in case\" might not be such a smart idea as it adds complexity to the code and when I read such code, I\u0027m thinking \"so if there is this safety here it means this is a legit case which does occur\".",
      "parentUuid": "9dd3dc1d_6d10e499",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d8621bca_b2eefa69",
        "filename": "src/vnet/ip/reass/ip4_full_reass.c",
        "patchSetId": 4
      },
      "lineNbr": 442,
      "author": {
        "id": 742
      },
      "writtenOn": "2022-05-12T13:36:43Z",
      "side": 1,
      "message": "will remove this change as of now",
      "parentUuid": "674d0959_8e52653e",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "76c67158_dad0b7ee",
        "filename": "src/vnet/ip/reass/ip4_full_reass.c",
        "patchSetId": 4
      },
      "lineNbr": 795,
      "author": {
        "id": 601
      },
      "writtenOn": "2022-05-12T08:50:41Z",
      "side": 1,
      "message": "I\u0027m all for counters, but this they should be in a separate change set to ease the review process",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "be1496ec_4c0f6baa",
        "filename": "src/vnet/ip/reass/ip4_full_reass.c",
        "patchSetId": 4
      },
      "lineNbr": 795,
      "author": {
        "id": 742
      },
      "writtenOn": "2022-05-12T13:10:14Z",
      "side": 1,
      "message": "i was pulling all the changes from our internal repo and making it one commit .. if you strongly advice to split into more than one commit will do",
      "parentUuid": "76c67158_dad0b7ee",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d4da9a94_13e4ab6e",
        "filename": "src/vnet/ip/reass/ip4_full_reass.c",
        "patchSetId": 4
      },
      "lineNbr": 795,
      "author": {
        "id": 601
      },
      "writtenOn": "2022-05-12T13:24:41Z",
      "side": 1,
      "message": "see above",
      "parentUuid": "be1496ec_4c0f6baa",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "10eb1279_8a54c6ed",
        "filename": "src/vnet/ip/reass/ip4_full_reass.c",
        "patchSetId": 4
      },
      "lineNbr": 795,
      "author": {
        "id": 742
      },
      "writtenOn": "2022-05-12T13:36:43Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "d4da9a94_13e4ab6e",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b06e3401_2ffa5738",
        "filename": "src/vnet/ip/reass/ip4_full_reass.c",
        "patchSetId": 4
      },
      "lineNbr": 1232,
      "author": {
        "id": 601
      },
      "writtenOn": "2022-05-12T08:50:41Z",
      "side": 1,
      "message": "when does this occur? is there a way to avoid it?",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "af37dc8a_219c4727",
        "filename": "src/vnet/ip/reass/ip4_full_reass.c",
        "patchSetId": 4
      },
      "lineNbr": 1232,
      "author": {
        "id": 742
      },
      "writtenOn": "2022-05-12T13:10:14Z",
      "side": 1,
      "message": "its more of sanity when b0 is already freed and trying to handle these .. again i can back track this defence check if you are against it",
      "parentUuid": "b06e3401_2ffa5738",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5d06119a_be14d4a6",
        "filename": "src/vnet/ip/reass/ip4_full_reass.c",
        "patchSetId": 4
      },
      "lineNbr": 1232,
      "author": {
        "id": 601
      },
      "writtenOn": "2022-05-12T13:24:41Z",
      "side": 1,
      "message": "see above.\n\nI would say this should never happen. No code should write \u003e vlib_num_workers() into the owner_thread_index.\n\nDo you see this counter bumped?",
      "parentUuid": "af37dc8a_219c4727",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f79b9cc0_50c0cab6",
        "filename": "src/vnet/ip/reass/ip4_full_reass.c",
        "patchSetId": 4
      },
      "lineNbr": 1232,
      "author": {
        "id": 742
      },
      "writtenOn": "2022-05-12T13:36:43Z",
      "side": 1,
      "message": "with other conditions we have see these issues.. but after fixing the buffer leaking and double freeing i would say we are not seeing.. will remove this change",
      "parentUuid": "5d06119a_be14d4a6",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ce7094c6_b71b9f53",
        "filename": "src/vnet/ip/reass/ip4_full_reass.c",
        "patchSetId": 4
      },
      "lineNbr": 1267,
      "author": {
        "id": 601
      },
      "writtenOn": "2022-05-12T08:50:41Z",
      "side": 1,
      "message": "erros-\u003eerrors?",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1e54d6df_94ff43a6",
        "filename": "src/vnet/ip/reass/ip4_full_reass.c",
        "patchSetId": 4
      },
      "lineNbr": 1267,
      "author": {
        "id": 742
      },
      "writtenOn": "2022-05-12T13:10:14Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "ce7094c6_b71b9f53",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "05343fd3_311e0b2d",
        "filename": "src/vnet/ip/reass/ip4_full_reass.c",
        "patchSetId": 4
      },
      "lineNbr": 1268,
      "author": {
        "id": 601
      },
      "writtenOn": "2022-05-12T08:50:41Z",
      "side": 1,
      "message": "wouldn\u0027t it be simpler to just drop the offending buffer on internal error and forgo the whole \"search for and insert for it to be dropped later\" operation?",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b14e3c0f_2af2145e",
        "filename": "src/vnet/ip/reass/ip4_full_reass.c",
        "patchSetId": 4
      },
      "lineNbr": 1268,
      "author": {
        "id": 742
      },
      "writtenOn": "2022-05-12T13:10:14Z",
      "side": 1,
      "message": "if its already stitched into the fragment chain, if you drop here, it would become double free again later point of time",
      "parentUuid": "05343fd3_311e0b2d",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "422e9b0b_c5e24ca7",
        "filename": "src/vnet/ip/reass/ip4_full_reass.c",
        "patchSetId": 4
      },
      "lineNbr": 1268,
      "author": {
        "id": 601
      },
      "writtenOn": "2022-05-12T13:24:41Z",
      "side": 1,
      "message": "okay, thinking about this further, this is only a partial fix. I agree that we should be able to recover state so I\u0027m not against this change, but if you see internal error being bumped, it means there is an error in code somewhere as internal errors should never occur. If so, did you figure out where it\u0027s failing for you? It\u0027d be nice to have a patch for that too...",
      "parentUuid": "b14e3c0f_2af2145e",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "06a4609a_6862839a",
        "filename": "src/vnet/ip/reass/ip4_full_reass.c",
        "patchSetId": 4
      },
      "lineNbr": 1268,
      "author": {
        "id": 742
      },
      "writtenOn": "2022-05-12T13:36:43Z",
      "side": 1,
      "message": "internal errors listed are valid ones in the finalize code...and i see most of them are valid ones",
      "parentUuid": "422e9b0b_c5e24ca7",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8dd9c8cd_e7c68eed",
        "filename": "src/vnet/ip/reass/ip4_full_reass.c",
        "patchSetId": 4
      },
      "lineNbr": 1270,
      "author": {
        "id": 601
      },
      "writtenOn": "2022-05-12T08:50:41Z",
      "side": 1,
      "message": "combining two different types of comments next to each other and in the same change set is a new kind of eye sore",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1e6063df_b1a8ede5",
        "filename": "src/vnet/ip/reass/ip4_full_reass.c",
        "patchSetId": 4
      },
      "lineNbr": 1270,
      "author": {
        "id": 742
      },
      "writtenOn": "2022-05-12T13:10:14Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "8dd9c8cd_e7c68eed",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f37fbbfc_c2ccd4a5",
        "filename": "src/vnet/ip/reass/ip4_full_reass.c",
        "patchSetId": 4
      },
      "lineNbr": 1478,
      "author": {
        "id": 601
      },
      "writtenOn": "2022-05-12T08:50:41Z",
      "side": 1,
      "message": "should be a separate patch",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7f5044d8_65813d0f",
        "filename": "src/vnet/ip/reass/ip4_full_reass.c",
        "patchSetId": 4
      },
      "lineNbr": 1478,
      "author": {
        "id": 742
      },
      "writtenOn": "2022-05-12T13:10:14Z",
      "side": 1,
      "message": "as acknowledged .. i was pulling all the changes together..let me know how may commits do you want me to split into",
      "parentUuid": "f37fbbfc_c2ccd4a5",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0d7b9a41_2060ece7",
        "filename": "src/vnet/ip/reass/ip4_full_reass.c",
        "patchSetId": 4
      },
      "lineNbr": 1478,
      "author": {
        "id": 601
      },
      "writtenOn": "2022-05-12T13:24:41Z",
      "side": 1,
      "message": "see above",
      "parentUuid": "7f5044d8_65813d0f",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "00b891bf_a472ce46",
        "filename": "src/vnet/ip/reass/ip4_full_reass.c",
        "patchSetId": 4
      },
      "lineNbr": 1478,
      "author": {
        "id": 742
      },
      "writtenOn": "2022-05-12T13:36:43Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "0d7b9a41_2060ece7",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "28ff9fe0_08686a12",
        "filename": "src/vnet/ip/reass/ip4_full_reass.c",
        "patchSetId": 4
      },
      "lineNbr": 1666,
      "author": {
        "id": 601
      },
      "writtenOn": "2022-05-12T08:50:41Z",
      "side": 1,
      "message": "handed -\u003e handled?\n\nalso why is this pacing code part of \"fixing buffer leaks\" change? should be a separate patch",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "90e09f26_156200ac",
        "filename": "src/vnet/ip/reass/ip4_full_reass.c",
        "patchSetId": 4
      },
      "lineNbr": 1666,
      "author": {
        "id": 742
      },
      "writtenOn": "2022-05-12T13:10:14Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "28ff9fe0_08686a12",
      "revId": "c8595552d5a23a1125a2c50ecd9f264ecb69b85b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    }
  ]
}