{
  "comments": [
    {
      "key": {
        "uuid": "34b2dd9a_530289a3",
        "filename": "src/vcl/vcl_locked.c",
        "patchSetId": 1
      },
      "lineNbr": 1901,
      "author": {
        "id": 193
      },
      "writtenOn": "2021-11-03T04:17:33Z",
      "side": 1,
      "message": "Does it really time out because of this?",
      "range": {
        "startLine": 1900,
        "startChar": 0,
        "endLine": 1901,
        "endChar": 27
      },
      "revId": "f2892ff7e529bd7d692c428d2cae5c892259f18b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3fe30eb2_402d09df",
        "filename": "src/vcl/vcl_locked.c",
        "patchSetId": 1
      },
      "lineNbr": 1901,
      "author": {
        "id": 2035
      },
      "writtenOn": "2021-11-03T06:22:51Z",
      "side": 1,
      "message": "Yes, another worker thread just grabbed the lock and waiting for the rpc response. Maybe we need wait infinitely to adaptor a very busy rpc responsor?",
      "parentUuid": "34b2dd9a_530289a3",
      "range": {
        "startLine": 1900,
        "startChar": 0,
        "endLine": 1901,
        "endChar": 27
      },
      "revId": "f2892ff7e529bd7d692c428d2cae5c892259f18b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e93eca1f_d0c466c8",
        "filename": "src/vcl/vcl_locked.c",
        "patchSetId": 1
      },
      "lineNbr": 1901,
      "author": {
        "id": 193
      },
      "writtenOn": "2021-11-03T14:53:55Z",
      "side": 1,
      "message": "That is surprising as 3s seems like a lot of time. What RPCs were being used and did the app use a lot of workers? Mainly asking to see if there\u0027s something wrong with our current infra.",
      "parentUuid": "3fe30eb2_402d09df",
      "range": {
        "startLine": 1900,
        "startChar": 0,
        "endLine": 1901,
        "endChar": 27
      },
      "revId": "f2892ff7e529bd7d692c428d2cae5c892259f18b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ec7584ef_4469a553",
        "filename": "src/vcl/vcl_locked.c",
        "patchSetId": 1
      },
      "lineNbr": 1901,
      "author": {
        "id": 2035
      },
      "writtenOn": "2021-11-04T02:37:49Z",
      "side": 1,
      "message": "When envoy starts, main thread will get and process many XDS configs from istio pilot for a long time (even for a few minutes), so main thread have no time to process VLS_RPC_CLONE_AND_SHARE request. Because the worker threads can\u0027t do anything until VLS_RPC_CLONE_AND_SHARE rpc succeed, so I suggest waiting infinitely.",
      "parentUuid": "e93eca1f_d0c466c8",
      "range": {
        "startLine": 1900,
        "startChar": 0,
        "endLine": 1901,
        "endChar": 27
      },
      "revId": "f2892ff7e529bd7d692c428d2cae5c892259f18b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f1530a98_47299e3a",
        "filename": "src/vcl/vcl_locked.c",
        "patchSetId": 1
      },
      "lineNbr": 1901,
      "author": {
        "id": 193
      },
      "writtenOn": "2021-11-04T15:04:30Z",
      "side": 1,
      "message": "Let\u0027s make this vcl.conf configurable then and use as default a larger but still reasonable number (say 180?).",
      "parentUuid": "ec7584ef_4469a553",
      "range": {
        "startLine": 1900,
        "startChar": 0,
        "endLine": 1901,
        "endChar": 27
      },
      "revId": "f2892ff7e529bd7d692c428d2cae5c892259f18b",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    }
  ]
}