{
  "comments": [
    {
      "key": {
        "uuid": "5a2585a7_adca1e4d",
        "filename": "src/vat/api_format.c",
        "patchSetId": 11
      },
      "lineNbr": 17081,
      "author": {
        "id": 267
      },
      "writtenOn": "2017-01-13T10:03:51Z",
      "side": 1,
      "message": "I\u0027d prefer the use of one API to set and another to get - which is the norm in the current API.",
      "revId": "ed3741c4185a3be167b0fac36d05c820977ec709",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a2585a7_2dde2e12",
        "filename": "src/vnet/ethernet/arp.c",
        "patchSetId": 11
      },
      "lineNbr": 568,
      "author": {
        "id": 267
      },
      "writtenOn": "2017-01-13T10:03:51Z",
      "side": 1,
      "message": "this formula is used more than once. consider a new function ethernet_arp_get_age(ethnernt_arp_t *e).",
      "revId": "ed3741c4185a3be167b0fac36d05c820977ec709",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a2585a7_6d779603",
        "filename": "src/vnet/ethernet/arp.c",
        "patchSetId": 11
      },
      "lineNbr": 571,
      "author": {
        "id": 267
      },
      "writtenOn": "2017-01-13T10:03:51Z",
      "side": 1,
      "message": "why 60?",
      "revId": "ed3741c4185a3be167b0fac36d05c820977ec709",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a2585a7_ede706e3",
        "filename": "src/vnet/ethernet/arp.c",
        "patchSetId": 11
      },
      "lineNbr": 1537,
      "author": {
        "id": 267
      },
      "writtenOn": "2017-01-13T10:03:51Z",
      "side": 1,
      "message": "why 20?\nsame for all the other constants. please provide some explanation as to why these values are chosen.",
      "revId": "ed3741c4185a3be167b0fac36d05c820977ec709",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a2585a7_2def4e89",
        "filename": "src/vnet/ethernet/arp.c",
        "patchSetId": 11
      },
      "lineNbr": 1899,
      "author": {
        "id": 267
      },
      "writtenOn": "2017-01-13T10:03:51Z",
      "side": 1,
      "message": "i have 2 reservations about this approach;\n1) scale. the ARP cache can have thousands of entries, we don\u0027t want these to all refresh at the same time, thus generating large amounts of ARP traffic. We should stagger the requests.\n2) it\u0027s intrusive. we make the adj incomplete during the probe. this means traffic loss. We could instead just send the probe.\n\ndid you consider an approach where we periodically read the adj/s counters to determine if it\u0027s still in use?",
      "revId": "ed3741c4185a3be167b0fac36d05c820977ec709",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a2585a7_edb026df",
        "filename": "src/vnet/ethernet/arp.c",
        "patchSetId": 11
      },
      "lineNbr": 1910,
      "author": {
        "id": 267
      },
      "writtenOn": "2017-01-13T10:03:51Z",
      "side": 1,
      "message": "both the conditions in this loop are dependent on arp_timeout !\u003d0. Therefore we do no work if the timeout is 0. So don\u0027t run the process when it\u0027s zero.\nsee l2fib_mac_age_scanner_process() for an example.",
      "revId": "ed3741c4185a3be167b0fac36d05c820977ec709",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a2585a7_0d0a528a",
        "filename": "src/vnet/ethernet/arp.c",
        "patchSetId": 11
      },
      "lineNbr": 1917,
      "author": {
        "id": 267
      },
      "writtenOn": "2017-01-13T10:03:51Z",
      "side": 1,
      "message": "aren\u0027t these first two condition redundant?",
      "revId": "ed3741c4185a3be167b0fac36d05c820977ec709",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a2585a7_cd88cae9",
        "filename": "src/vnet/ethernet/arp.c",
        "patchSetId": 11
      },
      "lineNbr": 1929,
      "author": {
        "id": 267
      },
      "writtenOn": "2017-01-13T10:03:51Z",
      "side": 1,
      "message": "use:\n       adj_nbr_walk_nh4 (e-\u003esw_if_index,\n\t\t\t\u0026e-\u003eip4_address, arp_mk_incomplete_walk, NULL);\n\nthe probe is not needed. one will be generated by the data-plane if the entry is still required.",
      "revId": "ed3741c4185a3be167b0fac36d05c820977ec709",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a2585a7_ad6d7e34",
        "filename": "src/vnet/ethernet/arp.c",
        "patchSetId": 11
      },
      "lineNbr": 1941,
      "author": {
        "id": 267
      },
      "writtenOn": "2017-01-13T10:03:51Z",
      "side": 1,
      "message": "some comments about what these two cases represent would be helpful.",
      "revId": "ed3741c4185a3be167b0fac36d05c820977ec709",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    }
  ]
}