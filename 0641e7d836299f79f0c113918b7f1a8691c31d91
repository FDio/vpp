{
  "comments": [
    {
      "key": {
        "uuid": "7f0ac5ac_0b8ca9f6",
        "filename": "src/vnet/devices/virtio/device.c",
        "patchSetId": 1
      },
      "lineNbr": 502,
      "author": {
        "id": 361
      },
      "writtenOn": "2021-05-05T15:46:20Z",
      "side": 1,
      "message": "what happens in release mode then? Shouldn\u0027t it be a if (PREDICT_FALSE()) with an associated error counter?",
      "revId": "0641e7d836299f79f0c113918b7f1a8691c31d91",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b218d60e_0ea65853",
        "filename": "src/vnet/devices/virtio/device.c",
        "patchSetId": 1
      },
      "lineNbr": 502,
      "author": {
        "id": 241
      },
      "writtenOn": "2021-05-05T16:10:42Z",
      "side": 1,
      "message": "The probability of hitting the specific situation is quite low. Putting conditional statement will consume unnecessary cycles in the data path per packet. That\u0027s why I prefer to use ASSERT, in case if someone hits the problem in release mode, can be able to debug it in debug mode.",
      "parentUuid": "7f0ac5ac_0b8ca9f6",
      "revId": "0641e7d836299f79f0c113918b7f1a8691c31d91",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "76714a3b_5a8093f6",
        "filename": "src/vnet/devices/virtio/device.c",
        "patchSetId": 1
      },
      "lineNbr": 502,
      "author": {
        "id": 361
      },
      "writtenOn": "2021-05-05T16:41:51Z",
      "side": 1,
      "message": "ok but what is the consequence if it arrives in release mode? A crash is a no-no. Silently sending a truncated or dropping might be ok.",
      "parentUuid": "b218d60e_0ea65853",
      "revId": "0641e7d836299f79f0c113918b7f1a8691c31d91",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2de8b0e6_23fabeab",
        "filename": "src/vnet/devices/virtio/device.c",
        "patchSetId": 1
      },
      "lineNbr": 502,
      "author": {
        "id": 241
      },
      "writtenOn": "2021-05-06T09:40:43Z",
      "side": 1,
      "message": "The proposed solutions requires vlib_buffer_t chain length should be known or precomputed. There is no information about the vlib_buffer_t chain length except manually calculating it in loop. It will be consume extra cycles per packet and it will make the data path code complex and non-optimized.",
      "parentUuid": "76714a3b_5a8093f6",
      "revId": "0641e7d836299f79f0c113918b7f1a8691c31d91",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    }
  ]
}