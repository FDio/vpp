{
  "comments": [
    {
      "key": {
        "uuid": "f3b98616_5176e05f",
        "filename": "src/plugins/dpdk/buffer.c",
        "patchSetId": 20
      },
      "lineNbr": 63,
      "author": {
        "id": 1230
      },
      "writtenOn": "2019-01-29T22:03:29Z",
      "side": 1,
      "message": "Is it a good idea to have memchache size(for normal mempool) as configurable from via DPDK config ?",
      "range": {
        "startLine": 63,
        "startChar": 15,
        "endLine": 63,
        "endChar": 18
      },
      "revId": "8daf30851c875d790a9d2f5eec04f35c96325f16",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f1a50575_6a9d365a",
        "filename": "src/plugins/dpdk/buffer.c",
        "patchSetId": 20
      },
      "lineNbr": 67,
      "author": {
        "id": 1230
      },
      "writtenOn": "2019-01-29T22:03:29Z",
      "side": 1,
      "message": "Curious question what is the purpose of non-cached mempool I see 2 enqueue and dequeue funcs in rte_mempool_ops but how is it decided which mempool to use ?",
      "range": {
        "startLine": 67,
        "startChar": 1,
        "endLine": 67,
        "endChar": 26
      },
      "revId": "8daf30851c875d790a9d2f5eec04f35c96325f16",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b43f4c84_afe04bfc",
        "filename": "src/plugins/dpdk/buffer.c",
        "patchSetId": 20
      },
      "lineNbr": 104,
      "author": {
        "id": 1230
      },
      "writtenOn": "2019-01-29T22:03:29Z",
      "side": 1,
      "message": "All buffers point to cached mempool and then are added to non cached mempool and cached mempool simultaneously. This may be something trivial but I am not sure I understand this can you help ?",
      "range": {
        "startLine": 90,
        "startChar": 1,
        "endLine": 104,
        "endChar": 3
      },
      "revId": "8daf30851c875d790a9d2f5eec04f35c96325f16",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "19c142d9_43aad51a",
        "filename": "src/plugins/dpdk/buffer.c",
        "patchSetId": 20
      },
      "lineNbr": 216,
      "author": {
        "id": 1230
      },
      "writtenOn": "2019-01-29T22:03:29Z",
      "side": 1,
      "message": "Do we know if this buffer is local to the lcore ?, because you are using cached mem pool per lcore. If so we can use relaxed atomics for ref_count\nif (clib_atomic_sub_fetch (\u0026b-\u003eref_count, 1) \u003d\u003d 0)\n    {\n      u32 bi \u003d vlib_get_buffer_index (vm, b);\n      mb-\u003epool \u003d new;\n      vlib_buffer_copy_template (b, bt);\n      vlib_buffer_pool_put (vm, bt-\u003ebuffer_pool_index, \u0026bi, 1);\n      return;\n    }\n}",
      "range": {
        "startLine": 216,
        "startChar": 0,
        "endLine": 216,
        "endChar": 34
      },
      "revId": "8daf30851c875d790a9d2f5eec04f35c96325f16",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "62e1a9b7_345ba8ea",
        "filename": "src/plugins/dpdk/buffer.c",
        "patchSetId": 20
      },
      "lineNbr": 216,
      "author": {
        "id": 1230
      },
      "writtenOn": "2019-01-29T22:11:00Z",
      "side": 1,
      "message": "Sorry, if I am correct, it should ideally use clib_atomic_sub_fetch_rel (atomics with release) if that api is not already there.",
      "parentUuid": "19c142d9_43aad51a",
      "range": {
        "startLine": 216,
        "startChar": 0,
        "endLine": 216,
        "endChar": 34
      },
      "revId": "8daf30851c875d790a9d2f5eec04f35c96325f16",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    }
  ]
}