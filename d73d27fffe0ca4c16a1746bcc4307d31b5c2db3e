{
  "comments": [
    {
      "key": {
        "uuid": "850fa57f_170cb9eb",
        "filename": "src/plugins/lb/lb.h",
        "patchSetId": 1
      },
      "lineNbr": 433,
      "author": {
        "id": 109
      },
      "writtenOn": "2018-05-22T15:15:40Z",
      "side": 1,
      "message": "Why did you keep this comment ?",
      "range": {
        "startLine": 432,
        "startChar": 5,
        "endLine": 433,
        "endChar": 64
      },
      "revId": "d73d27fffe0ca4c16a1746bcc4307d31b5c2db3e",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "33ccbc6c_4141e5f2",
        "filename": "src/plugins/lb/lb.h",
        "patchSetId": 1
      },
      "lineNbr": 433,
      "author": {
        "id": 352
      },
      "writtenOn": "2018-06-07T10:12:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "850fa57f_170cb9eb",
      "range": {
        "startLine": 432,
        "startChar": 5,
        "endLine": 433,
        "endChar": 64
      },
      "revId": "d73d27fffe0ca4c16a1746bcc4307d31b5c2db3e",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a8fbe65f_f4f8ab3b",
        "filename": "src/plugins/lb/node.c",
        "patchSetId": 1
      },
      "lineNbr": 331,
      "author": {
        "id": 109
      },
      "writtenOn": "2018-05-22T15:15:40Z",
      "side": 1,
      "message": "When do you decrease the VIP connexion counter ?",
      "range": {
        "startLine": 328,
        "startChar": 14,
        "endLine": 331,
        "endChar": 17
      },
      "revId": "d73d27fffe0ca4c16a1746bcc4307d31b5c2db3e",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "20004349_80f2b0cb",
        "filename": "src/plugins/lb/node.c",
        "patchSetId": 1
      },
      "lineNbr": 331,
      "author": {
        "id": 352
      },
      "writtenOn": "2018-06-07T10:12:40Z",
      "side": 1,
      "message": "Here is the logic: when lookup action finds an available entry. If this entry is not used previously, then refcount will increase. If this entry has been used previously and timeout, first decrease refcount, and then increase refcount. As a result, it does nothing.",
      "parentUuid": "a8fbe65f_f4f8ab3b",
      "range": {
        "startLine": 328,
        "startChar": 14,
        "endLine": 331,
        "endChar": 17
      },
      "revId": "d73d27fffe0ca4c16a1746bcc4307d31b5c2db3e",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "42570f45_e3e90f40",
        "filename": "src/plugins/lb/node.c",
        "patchSetId": 1
      },
      "lineNbr": 331,
      "author": {
        "id": 109
      },
      "writtenOn": "2018-06-07T15:13:32Z",
      "side": 1,
      "message": "But the flow table is shared between all the VIPs. Here you increase the value for a given VIP, but after the timeout it may be a different VIP that uses the same slot in the hash table. And even if we assume that there is a single VIP, the number of measured connexions will just slowly increase to the size of the hash table.",
      "parentUuid": "20004349_80f2b0cb",
      "range": {
        "startLine": 328,
        "startChar": 14,
        "endLine": 331,
        "endChar": 17
      },
      "revId": "d73d27fffe0ca4c16a1746bcc4307d31b5c2db3e",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "95aa7bdf_a96ec2cf",
        "filename": "src/plugins/lb/util.h",
        "patchSetId": 1
      },
      "lineNbr": 48,
      "author": {
        "id": 109
      },
      "writtenOn": "2018-05-22T15:15:40Z",
      "side": 1,
      "message": "This function does not \u0027get\u0027 anything. It rather sets the value of the counter, for a specific thread, in case it was lower. So I would change the name to vlib_set_max_single_counter.",
      "range": {
        "startLine": 48,
        "startChar": 0,
        "endLine": 48,
        "endChar": 27
      },
      "revId": "d73d27fffe0ca4c16a1746bcc4307d31b5c2db3e",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f96f2dda_50cc37dd",
        "filename": "src/plugins/lb/util.h",
        "patchSetId": 1
      },
      "lineNbr": 48,
      "author": {
        "id": 352
      },
      "writtenOn": "2018-06-07T10:12:40Z",
      "side": 1,
      "message": "Remove this function in the data plane. Will get maximum connections in the control plane or stats thread.",
      "parentUuid": "95aa7bdf_a96ec2cf",
      "range": {
        "startLine": 48,
        "startChar": 0,
        "endLine": 48,
        "endChar": 27
      },
      "revId": "d73d27fffe0ca4c16a1746bcc4307d31b5c2db3e",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    }
  ]
}