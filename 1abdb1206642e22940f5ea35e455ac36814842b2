{
  "comments": [
    {
      "key": {
        "uuid": "f3d04a3d_36dc32bf",
        "filename": "src/vnet/buffer.h",
        "patchSetId": 1
      },
      "lineNbr": 385,
      "author": {
        "id": 7
      },
      "writtenOn": "2018-12-04T16:46:01Z",
      "side": 1,
      "message": "Are these fields used by open-source fd.io code?",
      "revId": "1abdb1206642e22940f5ea35e455ac36814842b2",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2787f5e9_26073ae2",
        "filename": "src/vnet/buffer.h",
        "patchSetId": 1
      },
      "lineNbr": 385,
      "author": {
        "id": 742
      },
      "writtenOn": "2018-12-04T17:18:29Z",
      "side": 1,
      "message": "I do see a use case for open-source as well, when policy based  forwarding needs to be done",
      "parentUuid": "f3d04a3d_36dc32bf",
      "revId": "1abdb1206642e22940f5ea35e455ac36814842b2",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4ca24589_ec70a246",
        "filename": "src/vnet/buffer.h",
        "patchSetId": 1
      },
      "lineNbr": 385,
      "author": {
        "id": 267
      },
      "writtenOn": "2018-12-04T20:30:14Z",
      "side": 1,
      "message": "policy based forwarding, or ACL based forwarding (ABF) as the open-source plugin is called, pre-resolves the nexth-ops defined in the policy. Therefore the result of the policy lookup is a DPO and this, as usual, is stored in ip.adj_index[VLID_TX]. Can you not do the same?",
      "parentUuid": "2787f5e9_26073ae2",
      "revId": "1abdb1206642e22940f5ea35e455ac36814842b2",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "aab714f8_555b410c",
        "filename": "src/vnet/buffer.h",
        "patchSetId": 1
      },
      "lineNbr": 385,
      "author": {
        "id": 267
      },
      "writtenOn": "2018-12-04T20:31:49Z",
      "side": 1,
      "message": "I should also point out that pre-resolving in the control-plane makes for a more effective data-plane.",
      "parentUuid": "4ca24589_ec70a246",
      "revId": "1abdb1206642e22940f5ea35e455ac36814842b2",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6761162b_e00a90c0",
        "filename": "src/vnet/buffer.h",
        "patchSetId": 1
      },
      "lineNbr": 385,
      "author": {
        "id": 742
      },
      "writtenOn": "2018-12-04T20:33:49Z",
      "side": 1,
      "message": "this is little different in the sense.. its not acl based rule, rather always send downlink traffic to a specific nh instead of follow the DA.. so nh based lookup has to happen.. before transmit the packet.. \n\nif you see its not generic enough, would manage the way dave b  suggested",
      "parentUuid": "4ca24589_ec70a246",
      "revId": "1abdb1206642e22940f5ea35e455ac36814842b2",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6ab8e47e_ecca0c44",
        "filename": "src/vnet/buffer.h",
        "patchSetId": 1
      },
      "lineNbr": 385,
      "author": {
        "id": 7
      },
      "writtenOn": "2018-12-04T20:37:47Z",
      "side": 1,
      "message": "Unless you\u0027re committing code to fd.io vpp which uses the nh_vX_addr fields, this patch won\u0027t be merged.",
      "parentUuid": "6761162b_e00a90c0",
      "revId": "1abdb1206642e22940f5ea35e455ac36814842b2",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0ea89f2f_74e7a76e",
        "filename": "src/vnet/buffer.h",
        "patchSetId": 1
      },
      "lineNbr": 385,
      "author": {
        "id": 267
      },
      "writtenOn": "2018-12-05T05:07:27Z",
      "side": 1,
      "message": "sure it\u0027s not a ACL, but the \u0027specific next-hop\u0027 is still known when the policy is added, so can be resolved (i.e. lookup up) before the packets arrive.",
      "parentUuid": "6ab8e47e_ecca0c44",
      "revId": "1abdb1206642e22940f5ea35e455ac36814842b2",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    }
  ]
}